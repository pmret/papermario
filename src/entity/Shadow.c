#include "common.h"

void entity_Shadow_init(Shadow* shadow) {
    shadow->scale.x = 0.1f;
    shadow->scale.y = 0.1f;
    shadow->scale.z = 0.1f;
}

s32 entity_can_collide_with_jumping_player(Entity* entity) {
    if ((entity->collisionFlags & 4) && (gPlayerStatus.flags & 2)) {
        return TRUE;
    }
    return FALSE;
}

s32 D_802E9170[] = {
    0x00000000, 0x00000000, 0x01111111, 0x11111111, 0x01333333, 0x33333333, 0x01355555, 0x55555555, 0x01357777, 0x77777777, 0x01357999, 0x99999999, 0x013579BB, 0xBBBBBBBB, 0x013579BD, 0xDDDDDDDD, 0x013579BD, 0xFFFFFFFF, 0x013579BD, 0xFFFFFFFF, 0x013579BD, 0xFFFFFFFF, 0x013579BD, 0xFFFFFFFF, 0x013579BD, 0xFFFFFFFF, 0x013579BD, 0xFFFFFFFF, 0x013579BD, 0xFFFFFFFF, 0x013579BD, 0xFFFFFFFF
};

s32 D_802E91F0[] = {
    0x00000000, 0x00000000, 0x00000000, 0x00000011, 0x00000000, 0x00112222, 0x00000000, 0x11223344, 0x00000001, 0x22344555, 0x00000012, 0x34456666, 0x00000123, 0x45667788, 0x00001234, 0x56788999, 0x00012345, 0x67899AAB, 0x00012456, 0x789ABBCC, 0x00123467, 0x89ABCDDD, 0x00124568, 0x9ABCDEEF, 0x00234678, 0x9BCDEFFF, 0x00235679, 0xABDEFFFF, 0x01245689, 0xACDEFFFF, 0x01245689, 0xBCDFFFFF
};

s32 D_802E9270[] = {
    0x007D0000, 0x007D0000, 0x04000000, 0xFFFFFF4B, 0x007D0000, 0xFF830000, 0x04000400, 0xFFFFFF4B, 0xFF830000, 0xFF830000, 0x00000400, 0xFFFFFF4B, 0xFF830000, 0x007D0000, 0x00000000, 0xFFFFFF4B
};

s32 D_802E92B0[] = {
    0xFF830000, 0xFF830000, 0x00000400, 0xFFFFFF4B, 0xFF830000, 0x007D0000, 0x00000000, 0xFFFFFF4B, 0x007D0000, 0x007D0000, 0x04000000, 0xFFFFFF4B, 0x007D0000, 0xFF830000, 0x04000400, 0xFFFFFF4B, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x01111111, 0x11111111, 0x11111111, 0x11111110, 0x01353333, 0x33333333, 0x33333333, 0x33335310, 0x01355555, 0x55555555, 0x55555555, 0x55555310, 0x01357777, 0x77777777, 0x77777777, 0x77775310, 0x01357999, 0x99999999, 0x99999999, 0x99975310, 0x013579BB, 0xBBBBBBBB, 0xBBBBBBBB, 0xBB975310, 0x013579CC, 0xCCCCCCCC, 0xCCCCCCCC, 0xCC975310, 0x013579DD, 0xDDDDDDDD, 0xDDDDDDDD, 0xDD975310, 0x013579DD, 0xDDDDDDDD, 0xDDDDDDDD, 0xDD975310, 0x013579BC, 0xDDEEEEEE, 0xEEEEEEDD, 0xCB975310, 0x013579BC, 0xDDEEEEEE, 0xEEEEEEDD, 0xCB975310, 0x013579BC, 0xDDEEFFFF, 0xFFFFEEDD, 0xCB975310, 0x013579BC, 0xDDEEFFFF, 0xFFFFEEDD, 0xCB975310, 0x013579BC, 0xDDEEFFFF, 0xFFFFEEDD, 0xCB975310, 0x013579BC, 0xDDEEFFFF, 0xFFFFEEDD, 0xCB975310, 0x013579BC, 0xDDEEFFFF, 0xFFFFEEDD, 0xCB975310, 0x013579BC, 0xDDEEFFFF, 0xFFFFEEDD, 0xCB975310, 0x013579BC, 0xDDEEFFFF, 0xFFFFEEDD, 0xBC975310, 0x013579BC, 0xDDEEFFFF, 0xFFFFEEDD, 0xCB975310, 0x013579BC, 0xDDEEEEEE, 0xEEEEEEDD, 0xCB975310, 0x013579BC, 0xDDEEEEEE, 0xEEEEEEDD, 0xCB975310, 0x013579DD, 0xDDDDDDDD, 0xDDDDDDDD, 0xDD975310, 0x013579DD, 0xDDDDDDDD, 0xDDDDDDDD, 0xDD975310, 0x013579CC, 0xCCCCCCCC, 0xCCCCCCCC, 0xCC975310, 0x013579BB, 0xBBBBBBBB, 0xBBBBBBBB, 0xBB975310, 0x01357999, 0x99999999, 0x99999999, 0x99975310, 0x01357777, 0x77777777, 0x77777777, 0x77775310, 0x01355555, 0x55555555, 0x55555555, 0x55555310, 0x01353333, 0x33333333, 0x33333333, 0x33335310, 0x01111111, 0x11111111, 0x11111111, 0x11111110, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00001111, 0x11110000, 0x00000000, 0x00000000, 0x00113333, 0x33331100, 0x00000000, 0x00000000, 0x01335555, 0x55553310, 0x00000000, 0x00000000, 0x13555555, 0x55555531, 0x00000000, 0x00000013, 0x35555888, 0x88855553, 0x31000000, 0x00000135, 0x55588CCC, 0xCCC88555, 0x53100000, 0x00001355, 0x588CDDDD, 0xDDDDC885, 0x55301000, 0x00013555, 0x8CDDDDDD, 0xDDDDDDC8, 0x55531000, 0x00013558, 0xDDDDDDDD, 0xDDDDDDDC, 0x85531000, 0x00135558, 0xDDDDDDDD, 0xDDDDDDDC, 0x85553100, 0x0013558C, 0xDDDDDDDD, 0xDDDDDDDC, 0x85553100, 0x0135558C, 0xDDDDDDDD, 0xDDDDDDDD, 0xC8555310, 0x013558CD, 0xDDDDDDDD, 0xDDDDDDDD, 0xDC855310, 0x013558CD, 0xDDDDDDDD, 0xDDDDDDDD, 0xDC855310, 0x013558CD, 0xDDDDDDDD, 0xDDDDDDDD, 0xDC855310, 0x013598CD, 0xDDDDDDDD, 0xDDDDDDDD, 0xDC895310, 0x013598CD, 0xDDDDDDDD, 0xDDDDDDDD, 0xDC895310, 0x0135598C, 0xDDDDDDDD, 0xDDDDDDDD, 0xC8955310, 0x0013598C, 0xDDDDDDDD, 0xDDDDDDDD, 0xC8953100, 0x00135598, 0xCDDDDDDD, 0xDDDDDDDC, 0x89553100, 0x00013598, 0xCDDDDDDD, 0xDDDDDDDC, 0x89531000, 0x00011359, 0x8CDDDDDD, 0xDDDDDDC8, 0x95531000, 0x00001355, 0x988CCDDD, 0xDDDCC889, 0x55310000, 0x00001135, 0x59988CCC, 0xCCC88995, 0x53100000, 0x00000011, 0x35599888, 0x88899953, 0x11000000, 0x00000000, 0x11355999, 0x99995531, 0x00000000, 0x00000000, 0x01135555, 0x55553110, 0x00000000, 0x00000000, 0x00013333, 0x33331000, 0x00000000, 0x00000000, 0x00001111, 0x11110000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
};

Gfx D_802E96F0[] = {
    gsSPTexture(0xFFFF, 0xFFFF, 0, G_TX_RENDERTILE, G_ON),
    gsDPPipeSync(),
    gsDPSetTexturePersp(G_TP_PERSP),
    gsDPSetTextureDetail(G_TD_CLAMP),
    gsDPSetTextureLOD(G_TL_TILE),
    gsDPSetTextureLUT(G_TT_NONE),
    gsDPSetTextureFilter(G_TF_BILERP),
    gsDPSetTextureConvert(G_TC_FILT),
    gsSPEndDisplayList(),
};

Gfx D_802E9738[] = {
    gsSPDisplayList(D_802E96F0),
    gsDPSetTextureLUT(G_TT_NONE),
    gsDPLoadTextureTile_4b(&D_802E9170, G_IM_FMT_I, 16, 0, 0, 0, 15, 15, 0, G_TX_MIRROR | G_TX_WRAP, G_TX_MIRROR | G_TX_WRAP, 4, 4, G_TX_NOLOD, G_TX_NOLOD),
    gsSPEndDisplayList(),
};

Gfx D_802E9788[] = {
    gsSPDisplayList(D_802E96F0),
    gsDPSetTextureLUT(G_TT_NONE),
    gsDPLoadTextureTile_4b(&D_802E91F0, G_IM_FMT_I, 16, 0, 0, 0, 15, 15, 0, G_TX_MIRROR | G_TX_WRAP, G_TX_MIRROR | G_TX_WRAP, 4, 4, G_TX_NOLOD, G_TX_NOLOD),
    gsSPEndDisplayList(),
};

Gfx D_802E97B0[] = {
    gsSPDisplayList(D_802E9738),
    gsSPClearGeometryMode(G_CULL_BACK | G_LIGHTING | G_SHADING_SMOOTH),
    gsSPVertex(&D_802E92B0, 4, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSPEndDisplayList(),
};

Gfx D_802E97D8[] = {
    gsSPDisplayList(D_802E9788),
    gsSPClearGeometryMode(G_CULL_BACK | G_LIGHTING | G_SHADING_SMOOTH),
    gsSPVertex(&D_802E9270, 4, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSPEndDisplayList(),
};

Gfx D_802E9828[] = {
    gsSPEndDisplayList(),
};

// Entity "script" data; unknown if it's used or not.
s32 D_802E9830[8] = {
    0x00000001, 0x0000003C, (s32)D_802E9828, 0x00000002,
    0x00000000, 0x00000000, 0x00000000, 0x00000000
};

s32 D_802E9850[9] = {
    0x00000005, 0x00000800, 0x00000004, 0x00000020,
    0x00000001, 0x0000003C, (s32)D_802E97D8, 0x00000002,
    0x00000000
};

s32 D_802E9874[9] = {
    0x00000005, 0x00000800, 0x00000004, 0x00000020,
    0x00000001, 0x0000003C, (s32)D_802E97D8, 0x00000002,
    0x00000000
};
s32 D_802E9898[9] = {
    0x00000005, 0x00000800, 0x00000004, 0x00000020,
    0x00000001, 0x0000003C, (s32)D_802E97B0, 0x00000002,
    0x00000000,
};

ShadowBlueprint CircularShadowA = {
    .flags = SHADOW_FLAGS_20,
    .renderCommandList = D_802E9850,
    .animModelNode =  NULL,
    .onCreateCallback = entity_Shadow_init,
    .entityType = ENTITY_TYPE_SHADOW,
    .aabbSize = { 25, 10, 25 }
};

ShadowBlueprint CircularShadowB = {
    .flags = SHADOW_FLAGS_20,
    .renderCommandList = D_802E9874,
    .animModelNode =  NULL,
    .onCreateCallback = entity_Shadow_init,
    .entityType = ENTITY_TYPE_SHADOW,
    .aabbSize = { 25, 10, 25 }
};

ShadowBlueprint SquareShadow = {
    .flags = SHADOW_FLAGS_20,
    .renderCommandList = D_802E9898,
    .animModelNode =  NULL,
    .onCreateCallback = entity_Shadow_init,
    .entityType = ENTITY_TYPE_SHADOW,
    .aabbSize = { 25, 10, 25 }
};
