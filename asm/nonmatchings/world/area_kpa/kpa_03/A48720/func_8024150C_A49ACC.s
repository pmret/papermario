.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches

glabel func_8024150C_A49ACC
/* A49ACC 8024150C 27BDFFD0 */  addiu     $sp, $sp, -0x30
/* A49AD0 80241510 AFB20028 */  sw        $s2, 0x28($sp)
/* A49AD4 80241514 0080902D */  daddu     $s2, $a0, $zero
/* A49AD8 80241518 AFBF002C */  sw        $ra, 0x2c($sp)
/* A49ADC 8024151C AFB10024 */  sw        $s1, 0x24($sp)
/* A49AE0 80241520 AFB00020 */  sw        $s0, 0x20($sp)
/* A49AE4 80241524 8E510148 */  lw        $s1, 0x148($s2)
/* A49AE8 80241528 0C00EABB */  jal       get_npc_unsafe
/* A49AEC 8024152C 86240008 */   lh       $a0, 8($s1)
/* A49AF0 80241530 8E23006C */  lw        $v1, 0x6c($s1)
/* A49AF4 80241534 14600006 */  bnez      $v1, .L80241550
/* A49AF8 80241538 0040802D */   daddu    $s0, $v0, $zero
/* A49AFC 8024153C 8603008E */  lh        $v1, 0x8e($s0)
/* A49B00 80241540 00031100 */  sll       $v0, $v1, 4
/* A49B04 80241544 00431023 */  subu      $v0, $v0, $v1
/* A49B08 80241548 08090558 */  j         .L80241560
/* A49B0C 8024154C 24430082 */   addiu    $v1, $v0, 0x82
.L80241550:
/* A49B10 80241550 8603008E */  lh        $v1, 0x8e($s0)
/* A49B14 80241554 00031100 */  sll       $v0, $v1, 4
/* A49B18 80241558 00431023 */  subu      $v0, $v0, $v1
/* A49B1C 8024155C 2443001E */  addiu     $v1, $v0, 0x1e
.L80241560:
/* A49B20 80241560 00031400 */  sll       $v0, $v1, 0x10
/* A49B24 80241564 00021403 */  sra       $v0, $v0, 0x10
/* A49B28 80241568 28420100 */  slti      $v0, $v0, 0x100
/* A49B2C 8024156C 50400001 */  beql      $v0, $zero, .L80241574
/* A49B30 80241570 240300FF */   addiu    $v1, $zero, 0xff
.L80241574:
/* A49B34 80241574 8602008E */  lh        $v0, 0x8e($s0)
/* A49B38 80241578 3C018024 */  lui       $at, %hi(func_80243920_8041A0)
/* A49B3C 8024157C D4223920 */  ldc1      $f2, %lo(func_80243920_8041A0)($at)
/* A49B40 80241580 44820000 */  mtc1      $v0, $f0
/* A49B44 80241584 00000000 */  nop       
/* A49B48 80241588 46800020 */  cvt.s.w   $f0, $f0
/* A49B4C 8024158C 46000021 */  cvt.d.s   $f0, $f0
/* A49B50 80241590 46220002 */  mul.d     $f0, $f0, $f2
/* A49B54 80241594 00000000 */  nop       
/* A49B58 80241598 3C018024 */  lui       $at, %hi(D_80243928)
/* A49B5C 8024159C D4223928 */  ldc1      $f2, %lo(D_80243928)($at)
/* A49B60 802415A0 46220000 */  add.d     $f0, $f0, $f2
/* A49B64 802415A4 A20300AC */  sb        $v1, 0xac($s0)
/* A49B68 802415A8 3C013FF0 */  lui       $at, 0x3ff0
/* A49B6C 802415AC 44811800 */  mtc1      $at, $f3
/* A49B70 802415B0 44801000 */  mtc1      $zero, $f2
/* A49B74 802415B4 46200020 */  cvt.s.d   $f0, $f0
/* A49B78 802415B8 E6000054 */  swc1      $f0, 0x54($s0)
/* A49B7C 802415BC 46000021 */  cvt.d.s   $f0, $f0
/* A49B80 802415C0 4620103C */  c.lt.d    $f2, $f0
/* A49B84 802415C4 00000000 */  nop       
/* A49B88 802415C8 45000005 */  bc1f      .L802415E0
/* A49B8C 802415CC 24030005 */   addiu    $v1, $zero, 5
/* A49B90 802415D0 3C013F80 */  lui       $at, 0x3f80
/* A49B94 802415D4 44810000 */  mtc1      $at, $f0
/* A49B98 802415D8 00000000 */  nop       
/* A49B9C 802415DC E6000054 */  swc1      $f0, 0x54($s0)
.L802415E0:
/* A49BA0 802415E0 C6000054 */  lwc1      $f0, 0x54($s0)
/* A49BA4 802415E4 9602008E */  lhu       $v0, 0x8e($s0)
/* A49BA8 802415E8 46000086 */  mov.s     $f2, $f0
/* A49BAC 802415EC 24420001 */  addiu     $v0, $v0, 1
/* A49BB0 802415F0 A602008E */  sh        $v0, 0x8e($s0)
/* A49BB4 802415F4 00021400 */  sll       $v0, $v0, 0x10
/* A49BB8 802415F8 00021403 */  sra       $v0, $v0, 0x10
/* A49BBC 802415FC E6000058 */  swc1      $f0, 0x58($s0)
/* A49BC0 80241600 14430008 */  bne       $v0, $v1, .L80241624
/* A49BC4 80241604 E602005C */   swc1     $f2, 0x5c($s0)
/* A49BC8 80241608 0C00EAE8 */  jal       enable_npc_shadow
/* A49BCC 8024160C 0200202D */   daddu    $a0, $s0, $zero
/* A49BD0 80241610 3C03E0EF */  lui       $v1, 0xe0ef
/* A49BD4 80241614 8E220000 */  lw        $v0, ($s1)
/* A49BD8 80241618 3463FFFF */  ori       $v1, $v1, 0xffff
/* A49BDC 8024161C 00431024 */  and       $v0, $v0, $v1
/* A49BE0 80241620 AE220000 */  sw        $v0, ($s1)
.L80241624:
/* A49BE4 80241624 8E22006C */  lw        $v0, 0x6c($s1)
/* A49BE8 80241628 1440000E */  bnez      $v0, .L80241664
/* A49BEC 8024162C 00000000 */   nop      
/* A49BF0 80241630 8602008E */  lh        $v0, 0x8e($s0)
/* A49BF4 80241634 28420014 */  slti      $v0, $v0, 0x14
/* A49BF8 80241638 14400017 */  bnez      $v0, .L80241698
/* A49BFC 8024163C 0000282D */   daddu    $a1, $zero, $zero
/* A49C00 80241640 00A0302D */  daddu     $a2, $a1, $zero
/* A49C04 80241644 AFA00010 */  sw        $zero, 0x10($sp)
/* A49C08 80241648 AFA00014 */  sw        $zero, 0x14($sp)
/* A49C0C 8024164C AFA00018 */  sw        $zero, 0x18($sp)
/* A49C10 80241650 8E040024 */  lw        $a0, 0x24($s0)
/* A49C14 80241654 0C0B7A25 */  jal       func_802DE894
/* A49C18 80241658 00A0382D */   daddu    $a3, $a1, $zero
/* A49C1C 8024165C 0809059D */  j         .L80241674
/* A49C20 80241660 00000000 */   nop      
.L80241664:
/* A49C24 80241664 8602008E */  lh        $v0, 0x8e($s0)
/* A49C28 80241668 2842000A */  slti      $v0, $v0, 0xa
/* A49C2C 8024166C 1440000A */  bnez      $v0, .L80241698
/* A49C30 80241670 00000000 */   nop      
.L80241674:
/* A49C34 80241674 3C013F80 */  lui       $at, 0x3f80
/* A49C38 80241678 44810000 */  mtc1      $at, $f0
/* A49C3C 8024167C 240200FF */  addiu     $v0, $zero, 0xff
/* A49C40 80241680 A20200AC */  sb        $v0, 0xac($s0)
/* A49C44 80241684 24020014 */  addiu     $v0, $zero, 0x14
/* A49C48 80241688 E6000054 */  swc1      $f0, 0x54($s0)
/* A49C4C 8024168C E6000058 */  swc1      $f0, 0x58($s0)
/* A49C50 80241690 E600005C */  swc1      $f0, 0x5c($s0)
/* A49C54 80241694 AE420070 */  sw        $v0, 0x70($s2)
.L80241698:
/* A49C58 80241698 8FBF002C */  lw        $ra, 0x2c($sp)
/* A49C5C 8024169C 8FB20028 */  lw        $s2, 0x28($sp)
/* A49C60 802416A0 8FB10024 */  lw        $s1, 0x24($sp)
/* A49C64 802416A4 8FB00020 */  lw        $s0, 0x20($sp)
/* A49C68 802416A8 03E00008 */  jr        $ra
/* A49C6C 802416AC 27BD0030 */   addiu    $sp, $sp, 0x30
