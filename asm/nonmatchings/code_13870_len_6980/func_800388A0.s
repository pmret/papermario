.set noat # allow manual use of $at
.set noreorder # don't insert nops after branches

.include "include/macro.inc"

glabel func_800388A0
/* 013CA0 800388A0 27BDFFE0 */  addiu $sp, $sp, -0x20
/* 013CA4 800388A4 2402F7FF */  addiu $v0, $zero, -0x801
/* 013CA8 800388A8 AFB20018 */  sw    $s2, 0x18($sp)
/* 013CAC 800388AC 00829024 */  and   $s2, $a0, $v0
/* 013CB0 800388B0 3C03800A */  lui   $v1, 0x800a
/* 013CB4 800388B4 8C630B90 */  lw    $v1, 0xb90($v1)
/* 013CB8 800388B8 00121080 */  sll   $v0, $s2, 2
/* 013CBC 800388BC AFBF001C */  sw    $ra, 0x1c($sp)
/* 013CC0 800388C0 AFB10014 */  sw    $s1, 0x14($sp)
/* 013CC4 800388C4 AFB00010 */  sw    $s0, 0x10($sp)
/* 013CC8 800388C8 00431021 */  addu  $v0, $v0, $v1
/* 013CCC 800388CC 8C500000 */  lw    $s0, ($v0)
/* 013CD0 800388D0 12000038 */  beqz  $s0, .L800389B4
/* 013CD4 800388D4 00000000 */   nop   
/* 013CD8 800388D8 8E020000 */  lw    $v0, ($s0)
/* 013CDC 800388DC 10400035 */  beqz  $v0, .L800389B4
/* 013CE0 800388E0 00000000 */   nop   
/* 013CE4 800388E4 8E040020 */  lw    $a0, 0x20($s0)
/* 013CE8 800388E8 10800004 */  beqz  $a0, .L800388FC
/* 013CEC 800388EC 00000000 */   nop   
/* 013CF0 800388F0 0C00AB4B */  jal   heap_free
/* 013CF4 800388F4 00000000 */   nop   
/* 013CF8 800388F8 AE000020 */  sw    $zero, 0x20($s0)
.L800388FC:
/* 013CFC 800388FC 8E030000 */  lw    $v1, ($s0)
/* 013D00 80038900 3C024000 */  lui   $v0, 0x4000
/* 013D04 80038904 00621024 */  and   $v0, $v1, $v0
/* 013D08 80038908 1440000A */  bnez  $v0, .L80038934
/* 013D0C 8003890C 3C020100 */   lui   $v0, 0x100
/* 013D10 80038910 00621024 */  and   $v0, $v1, $v0
/* 013D14 80038914 14400007 */  bnez  $v0, .L80038934
/* 013D18 80038918 00000000 */   nop   
/* 013D1C 8003891C 0C0B797A */  jal   func_802DE5E8
/* 013D20 80038920 8E040024 */   lw    $a0, 0x24($s0)
/* 013D24 80038924 10400003 */  beqz  $v0, .L80038934
/* 013D28 80038928 00000000 */   nop   
.L8003892C:
/* 013D2C 8003892C 0800E24B */  j     .L8003892C
/* 013D30 80038930 00000000 */   nop   

.L80038934:
/* 013D34 80038934 8E040078 */  lw    $a0, 0x78($s0)
/* 013D38 80038938 0C0448CA */  jal   func_80112328
/* 013D3C 8003893C 0000882D */   daddu $s1, $zero, $zero
/* 013D40 80038940 0200202D */  daddu $a0, $s0, $zero
.L80038944:
/* 013D44 80038944 0C00F10A */  jal   func_8003C428
/* 013D48 80038948 0220282D */   daddu $a1, $s1, $zero
/* 013D4C 8003894C 26310001 */  addiu $s1, $s1, 1
/* 013D50 80038950 2A220002 */  slti  $v0, $s1, 2
/* 013D54 80038954 1440FFFB */  bnez  $v0, .L80038944
/* 013D58 80038958 0200202D */   daddu $a0, $s0, $zero
/* 013D5C 8003895C 8E020000 */  lw    $v0, ($s0)
/* 013D60 80038960 3C030010 */  lui   $v1, 0x10
/* 013D64 80038964 00431024 */  and   $v0, $v0, $v1
/* 013D68 80038968 10400003 */  beqz  $v0, .L80038978
/* 013D6C 8003896C 00000000 */   nop   
/* 013D70 80038970 0C00EB6B */  jal   disable_npc_blur
/* 013D74 80038974 0200202D */   daddu $a0, $s0, $zero
.L80038978:
/* 013D78 80038978 3C11800A */  lui   $s1, 0x800a
/* 013D7C 8003897C 26310B90 */  addiu $s1, $s1, 0xb90
/* 013D80 80038980 8E220000 */  lw    $v0, ($s1)
/* 013D84 80038984 00128080 */  sll   $s0, $s2, 2
/* 013D88 80038988 02021021 */  addu  $v0, $s0, $v0
/* 013D8C 8003898C 0C00AB4B */  jal   heap_free
/* 013D90 80038990 8C440000 */   lw    $a0, ($v0)
/* 013D94 80038994 3C04800A */  lui   $a0, 0x800a
/* 013D98 80038998 2484A604 */  addiu $a0, $a0, -0x59fc
/* 013D9C 8003899C 8E230000 */  lw    $v1, ($s1)
/* 013DA0 800389A0 94820000 */  lhu   $v0, ($a0)
/* 013DA4 800389A4 02038021 */  addu  $s0, $s0, $v1
/* 013DA8 800389A8 2442FFFF */  addiu $v0, $v0, -1
/* 013DAC 800389AC AE000000 */  sw    $zero, ($s0)
/* 013DB0 800389B0 A4820000 */  sh    $v0, ($a0)
.L800389B4:
/* 013DB4 800389B4 8FBF001C */  lw    $ra, 0x1c($sp)
/* 013DB8 800389B8 8FB20018 */  lw    $s2, 0x18($sp)
/* 013DBC 800389BC 8FB10014 */  lw    $s1, 0x14($sp)
/* 013DC0 800389C0 8FB00010 */  lw    $s0, 0x10($sp)
/* 013DC4 800389C4 03E00008 */  jr    $ra
/* 013DC8 800389C8 27BD0020 */   addiu $sp, $sp, 0x20

