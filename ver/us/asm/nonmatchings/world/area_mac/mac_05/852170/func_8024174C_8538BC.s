.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches

glabel func_8024174C_8538BC
/* 8538BC 8024174C 27BDFFD8 */  addiu     $sp, $sp, -0x28
/* 8538C0 80241750 AFB10014 */  sw        $s1, 0x14($sp)
/* 8538C4 80241754 0080882D */  daddu     $s1, $a0, $zero
/* 8538C8 80241758 AFBF0024 */  sw        $ra, 0x24($sp)
/* 8538CC 8024175C AFB40020 */  sw        $s4, 0x20($sp)
/* 8538D0 80241760 AFB3001C */  sw        $s3, 0x1c($sp)
/* 8538D4 80241764 AFB20018 */  sw        $s2, 0x18($sp)
/* 8538D8 80241768 10A00033 */  beqz      $a1, .L80241838
/* 8538DC 8024176C AFB00010 */   sw       $s0, 0x10($sp)
/* 8538E0 80241770 0C04760B */  jal       func_8011D82C
/* 8538E4 80241774 24040001 */   addiu    $a0, $zero, 1
/* 8538E8 80241778 0000202D */  daddu     $a0, $zero, $zero
/* 8538EC 8024177C 0080282D */  daddu     $a1, $a0, $zero
/* 8538F0 80241780 0080302D */  daddu     $a2, $a0, $zero
/* 8538F4 80241784 0080382D */  daddu     $a3, $a0, $zero
/* 8538F8 80241788 0080802D */  daddu     $s0, $a0, $zero
/* 8538FC 8024178C 2414FFFC */  addiu     $s4, $zero, -4
/* 853900 80241790 24130006 */  addiu     $s3, $zero, 6
/* 853904 80241794 3C120080 */  lui       $s2, 0x80
/* 853908 80241798 3C038015 */  lui       $v1, %hi(D_801512F0)
/* 85390C 8024179C 8C6312F0 */  lw        $v1, %lo(D_801512F0)($v1)
/* 853910 802417A0 24020001 */  addiu     $v0, $zero, 1
/* 853914 802417A4 0C046F97 */  jal       set_background_color_blend
/* 853918 802417A8 A0620000 */   sb       $v0, ($v1)
.L802417AC:
/* 85391C 802417AC 0C00E2B7 */  jal       get_npc_by_index
/* 853920 802417B0 0200202D */   daddu    $a0, $s0, $zero
/* 853924 802417B4 0040202D */  daddu     $a0, $v0, $zero
/* 853928 802417B8 5080000B */  beql      $a0, $zero, .L802417E8
/* 85392C 802417BC 26100001 */   addiu    $s0, $s0, 1
/* 853930 802417C0 8C820000 */  lw        $v0, ($a0)
/* 853934 802417C4 50400008 */  beql      $v0, $zero, .L802417E8
/* 853938 802417C8 26100001 */   addiu    $s0, $s0, 1
/* 85393C 802417CC 808300A4 */  lb        $v1, 0xa4($a0)
/* 853940 802417D0 10740005 */  beq       $v1, $s4, .L802417E8
/* 853944 802417D4 26100001 */   addiu    $s0, $s0, 1
/* 853948 802417D8 10730003 */  beq       $v1, $s3, .L802417E8
/* 85394C 802417DC 00000000 */   nop
/* 853950 802417E0 00521025 */  or        $v0, $v0, $s2
/* 853954 802417E4 AC820000 */  sw        $v0, ($a0)
.L802417E8:
/* 853958 802417E8 2A020040 */  slti      $v0, $s0, 0x40
/* 85395C 802417EC 1440FFEF */  bnez      $v0, .L802417AC
/* 853960 802417F0 00000000 */   nop
/* 853964 802417F4 0000802D */  daddu     $s0, $zero, $zero
/* 853968 802417F8 3C120800 */  lui       $s2, 0x800
.L802417FC:
/* 85396C 802417FC 0C04C3D6 */  jal       get_item_entity
/* 853970 80241800 0200202D */   daddu    $a0, $s0, $zero
/* 853974 80241804 0040182D */  daddu     $v1, $v0, $zero
/* 853978 80241808 10600007 */  beqz      $v1, .L80241828
/* 85397C 8024180C 26100001 */   addiu    $s0, $s0, 1
/* 853980 80241810 8C640000 */  lw        $a0, ($v1)
/* 853984 80241814 30820010 */  andi      $v0, $a0, 0x10
/* 853988 80241818 10400003 */  beqz      $v0, .L80241828
/* 85398C 8024181C 00000000 */   nop
/* 853990 80241820 00921025 */  or        $v0, $a0, $s2
/* 853994 80241824 AC620000 */  sw        $v0, ($v1)
.L80241828:
/* 853998 80241828 2A020100 */  slti      $v0, $s0, 0x100
/* 85399C 8024182C 1440FFF3 */  bnez      $v0, .L802417FC
/* 8539A0 80241830 00000000 */   nop
/* 8539A4 80241834 AE200070 */  sw        $zero, 0x70($s1)
.L80241838:
/* 8539A8 80241838 8E220070 */  lw        $v0, 0x70($s1)
/* 8539AC 8024183C 24420008 */  addiu     $v0, $v0, 8
/* 8539B0 80241840 AE220070 */  sw        $v0, 0x70($s1)
/* 8539B4 80241844 28420100 */  slti      $v0, $v0, 0x100
/* 8539B8 80241848 14400003 */  bnez      $v0, .L80241858
/* 8539BC 8024184C 0000202D */   daddu    $a0, $zero, $zero
/* 8539C0 80241850 240200FF */  addiu     $v0, $zero, 0xff
/* 8539C4 80241854 AE220070 */  sw        $v0, 0x70($s1)
.L80241858:
/* 8539C8 80241858 0080282D */  daddu     $a1, $a0, $zero
/* 8539CC 8024185C 92270073 */  lbu       $a3, 0x73($s1)
/* 8539D0 80241860 0C046F97 */  jal       set_background_color_blend
/* 8539D4 80241864 0080302D */   daddu    $a2, $a0, $zero
/* 8539D8 80241868 8E220070 */  lw        $v0, 0x70($s1)
/* 8539DC 8024186C 8FBF0024 */  lw        $ra, 0x24($sp)
/* 8539E0 80241870 8FB40020 */  lw        $s4, 0x20($sp)
/* 8539E4 80241874 8FB3001C */  lw        $s3, 0x1c($sp)
/* 8539E8 80241878 8FB20018 */  lw        $s2, 0x18($sp)
/* 8539EC 8024187C 8FB10014 */  lw        $s1, 0x14($sp)
/* 8539F0 80241880 8FB00010 */  lw        $s0, 0x10($sp)
/* 8539F4 80241884 384200FF */  xori      $v0, $v0, 0xff
/* 8539F8 80241888 2C420001 */  sltiu     $v0, $v0, 1
/* 8539FC 8024188C 00021040 */  sll       $v0, $v0, 1
/* 853A00 80241890 03E00008 */  jr        $ra
/* 853A04 80241894 27BD0028 */   addiu    $sp, $sp, 0x28
