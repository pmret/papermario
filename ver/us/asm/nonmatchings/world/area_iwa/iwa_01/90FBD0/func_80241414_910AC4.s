.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches

.section .rodata

glabel D_802463B8_915A68
.double 1.1

glabel D_802463C0_915A70
.double 180.0

.section .text

glabel func_80241414_910AC4
/* 910AC4 80241414 27BDFFC0 */  addiu     $sp, $sp, -0x40
/* 910AC8 80241418 AFB00018 */  sw        $s0, 0x18($sp)
/* 910ACC 8024141C AFBF0024 */  sw        $ra, 0x24($sp)
/* 910AD0 80241420 AFB20020 */  sw        $s2, 0x20($sp)
/* 910AD4 80241424 AFB1001C */  sw        $s1, 0x1c($sp)
/* 910AD8 80241428 F7B80038 */  sdc1      $f24, 0x38($sp)
/* 910ADC 8024142C F7B60030 */  sdc1      $f22, 0x30($sp)
/* 910AE0 80241430 F7B40028 */  sdc1      $f20, 0x28($sp)
/* 910AE4 80241434 8C910148 */  lw        $s1, 0x148($a0)
/* 910AE8 80241438 4486A000 */  mtc1      $a2, $f20
/* 910AEC 8024143C 86240008 */  lh        $a0, 8($s1)
/* 910AF0 80241440 4487B000 */  mtc1      $a3, $f22
/* 910AF4 80241444 0C00EABB */  jal       get_npc_unsafe
/* 910AF8 80241448 00A0802D */   daddu    $s0, $a1, $zero
/* 910AFC 8024144C 4600A521 */  cvt.d.s   $f20, $f20
/* 910B00 80241450 0200202D */  daddu     $a0, $s0, $zero
/* 910B04 80241454 0040902D */  daddu     $s2, $v0, $zero
/* 910B08 80241458 3C03800B */  lui       $v1, %hi(gCameras)
/* 910B0C 8024145C 24631D80 */  addiu     $v1, $v1, %lo(gCameras)
/* 910B10 80241460 3C018024 */  lui       $at, %hi(D_802463B8_915A68)
/* 910B14 80241464 D42063B8 */  ldc1      $f0, %lo(D_802463B8_915A68)($at)
/* 910B18 80241468 3C014387 */  lui       $at, 0x4387
/* 910B1C 8024146C 4481C000 */  mtc1      $at, $f24
/* 910B20 80241470 4407B000 */  mfc1      $a3, $f22
/* 910B24 80241474 3C02800A */  lui       $v0, %hi(gCurrentCamID)
/* 910B28 80241478 8442A634 */  lh        $v0, %lo(gCurrentCamID)($v0)
/* 910B2C 8024147C 0220282D */  daddu     $a1, $s1, $zero
/* 910B30 80241480 AFA00010 */  sw        $zero, 0x10($sp)
/* 910B34 80241484 4620A502 */  mul.d     $f20, $f20, $f0
/* 910B38 80241488 00000000 */  nop
/* 910B3C 8024148C 00028080 */  sll       $s0, $v0, 2
/* 910B40 80241490 02028021 */  addu      $s0, $s0, $v0
/* 910B44 80241494 00108080 */  sll       $s0, $s0, 2
/* 910B48 80241498 02028023 */  subu      $s0, $s0, $v0
/* 910B4C 8024149C 001010C0 */  sll       $v0, $s0, 3
/* 910B50 802414A0 02028021 */  addu      $s0, $s0, $v0
/* 910B54 802414A4 001080C0 */  sll       $s0, $s0, 3
/* 910B58 802414A8 4620A520 */  cvt.s.d   $f20, $f20
/* 910B5C 802414AC 4406A000 */  mfc1      $a2, $f20
/* 910B60 802414B0 0C01242D */  jal       func_800490B4
/* 910B64 802414B4 02038021 */   addu     $s0, $s0, $v1
/* 910B68 802414B8 C60C006C */  lwc1      $f12, 0x6c($s0)
/* 910B6C 802414BC C64E000C */  lwc1      $f14, 0xc($s2)
/* 910B70 802414C0 0C00A70A */  jal       get_clamped_angle_diff
/* 910B74 802414C4 0002802B */   sltu     $s0, $zero, $v0
/* 910B78 802414C8 0C00A6C9 */  jal       clamp_angle
/* 910B7C 802414CC 46000306 */   mov.s    $f12, $f0
/* 910B80 802414D0 3C018024 */  lui       $at, %hi(D_802463C0_915A70)
/* 910B84 802414D4 D42263C0 */  ldc1      $f2, %lo(D_802463C0_915A70)($at)
/* 910B88 802414D8 46000021 */  cvt.d.s   $f0, $f0
/* 910B8C 802414DC 4622003C */  c.lt.d    $f0, $f2
/* 910B90 802414E0 00000000 */  nop
/* 910B94 802414E4 45000003 */  bc1f      .L802414F4
/* 910B98 802414E8 00000000 */   nop
/* 910B9C 802414EC 3C0142B4 */  lui       $at, 0x42b4
/* 910BA0 802414F0 4481C000 */  mtc1      $at, $f24
.L802414F4:
/* 910BA4 802414F4 3C11800F */  lui       $s1, %hi(gPlayerStatusPtr)
/* 910BA8 802414F8 26317B30 */  addiu     $s1, $s1, %lo(gPlayerStatusPtr)
/* 910BAC 802414FC C64C0038 */  lwc1      $f12, 0x38($s2)
/* 910BB0 80241500 8E220000 */  lw        $v0, ($s1)
/* 910BB4 80241504 C64E0040 */  lwc1      $f14, 0x40($s2)
/* 910BB8 80241508 8C460028 */  lw        $a2, 0x28($v0)
/* 910BBC 8024150C 0C00A720 */  jal       atan2
/* 910BC0 80241510 8C470030 */   lw       $a3, 0x30($v0)
/* 910BC4 80241514 4600C306 */  mov.s     $f12, $f24
/* 910BC8 80241518 0C00A70A */  jal       get_clamped_angle_diff
/* 910BCC 8024151C 46000386 */   mov.s    $f14, $f0
/* 910BD0 80241520 46000005 */  abs.s     $f0, $f0
/* 910BD4 80241524 3C01404E */  lui       $at, 0x404e
/* 910BD8 80241528 44811800 */  mtc1      $at, $f3
/* 910BDC 8024152C 44801000 */  mtc1      $zero, $f2
/* 910BE0 80241530 46000021 */  cvt.d.s   $f0, $f0
/* 910BE4 80241534 4620103C */  c.lt.d    $f2, $f0
/* 910BE8 80241538 00000000 */  nop
/* 910BEC 8024153C 45030001 */  bc1tl     .L80241544
/* 910BF0 80241540 0000802D */   daddu    $s0, $zero, $zero
.L80241544:
/* 910BF4 80241544 C64C0038 */  lwc1      $f12, 0x38($s2)
/* 910BF8 80241548 0C038022 */  jal       get_xz_dist_to_player
/* 910BFC 8024154C C64E0040 */   lwc1     $f14, 0x40($s2)
/* 910C00 80241550 8E240000 */  lw        $a0, ($s1)
/* 910C04 80241554 864300A6 */  lh        $v1, 0xa6($s2)
/* 910C08 80241558 848200B2 */  lh        $v0, 0xb2($a0)
/* 910C0C 8024155C 00431021 */  addu      $v0, $v0, $v1
/* 910C10 80241560 44821000 */  mtc1      $v0, $f2
/* 910C14 80241564 00000000 */  nop
/* 910C18 80241568 468010A0 */  cvt.s.w   $f2, $f2
/* 910C1C 8024156C 4602003C */  c.lt.s    $f0, $f2
/* 910C20 80241570 00000000 */  nop
/* 910C24 80241574 45030001 */  bc1tl     .L8024157C
/* 910C28 80241578 0000802D */   daddu    $s0, $zero, $zero
.L8024157C:
/* 910C2C 8024157C C640003C */  lwc1      $f0, 0x3c($s2)
/* 910C30 80241580 C482002C */  lwc1      $f2, 0x2c($a0)
/* 910C34 80241584 46020001 */  sub.s     $f0, $f0, $f2
/* 910C38 80241588 3C014220 */  lui       $at, 0x4220
/* 910C3C 8024158C 44811000 */  mtc1      $at, $f2
/* 910C40 80241590 46000005 */  abs.s     $f0, $f0
/* 910C44 80241594 4600103E */  c.le.s    $f2, $f0
/* 910C48 80241598 00000000 */  nop
/* 910C4C 8024159C 45030001 */  bc1tl     .L802415A4
/* 910C50 802415A0 0000802D */   daddu    $s0, $zero, $zero
.L802415A4:
/* 910C54 802415A4 3C038011 */  lui       $v1, %hi(D_8010EBB0+0x3)
/* 910C58 802415A8 8063EBB3 */  lb        $v1, %lo(D_8010EBB0+0x3)($v1)
/* 910C5C 802415AC 24020009 */  addiu     $v0, $zero, 9
/* 910C60 802415B0 50620001 */  beql      $v1, $v0, .L802415B8
/* 910C64 802415B4 0000802D */   daddu    $s0, $zero, $zero
.L802415B8:
/* 910C68 802415B8 0200102D */  daddu     $v0, $s0, $zero
/* 910C6C 802415BC 8FBF0024 */  lw        $ra, 0x24($sp)
/* 910C70 802415C0 8FB20020 */  lw        $s2, 0x20($sp)
/* 910C74 802415C4 8FB1001C */  lw        $s1, 0x1c($sp)
/* 910C78 802415C8 8FB00018 */  lw        $s0, 0x18($sp)
/* 910C7C 802415CC D7B80038 */  ldc1      $f24, 0x38($sp)
/* 910C80 802415D0 D7B60030 */  ldc1      $f22, 0x30($sp)
/* 910C84 802415D4 D7B40028 */  ldc1      $f20, 0x28($sp)
/* 910C88 802415D8 03E00008 */  jr        $ra
/* 910C8C 802415DC 27BD0040 */   addiu    $sp, $sp, 0x40
