.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches

.section .rodata

glabel D_80242D58_918AC8
.double 0.9

.section .text

glabel func_80240694_916404
/* 916404 80240694 27BDFFD0 */  addiu     $sp, $sp, -0x30
/* 916408 80240698 AFB30024 */  sw        $s3, 0x24($sp)
/* 91640C 8024069C 0080982D */  daddu     $s3, $a0, $zero
/* 916410 802406A0 AFBF002C */  sw        $ra, 0x2c($sp)
/* 916414 802406A4 AFB40028 */  sw        $s4, 0x28($sp)
/* 916418 802406A8 AFB20020 */  sw        $s2, 0x20($sp)
/* 91641C 802406AC AFB1001C */  sw        $s1, 0x1c($sp)
/* 916420 802406B0 AFB00018 */  sw        $s0, 0x18($sp)
/* 916424 802406B4 8E710148 */  lw        $s1, 0x148($s3)
/* 916428 802406B8 86240008 */  lh        $a0, 8($s1)
/* 91642C 802406BC 0C00EABB */  jal       get_npc_unsafe
/* 916430 802406C0 00A0A02D */   daddu    $s4, $a1, $zero
/* 916434 802406C4 0040802D */  daddu     $s0, $v0, $zero
/* 916438 802406C8 3C12800F */  lui       $s2, %hi(gPlayerStatusPtr)
/* 91643C 802406CC 26527B30 */  addiu     $s2, $s2, %lo(gPlayerStatusPtr)
/* 916440 802406D0 C60C0038 */  lwc1      $f12, 0x38($s0)
/* 916444 802406D4 8E420000 */  lw        $v0, ($s2)
/* 916448 802406D8 C60E0040 */  lwc1      $f14, 0x40($s0)
/* 91644C 802406DC 8C460028 */  lw        $a2, 0x28($v0)
/* 916450 802406E0 0C00A720 */  jal       atan2
/* 916454 802406E4 8C470030 */   lw       $a3, 0x30($v0)
/* 916458 802406E8 3C025555 */  lui       $v0, 0x5555
/* 91645C 802406EC 9603008E */  lhu       $v1, 0x8e($s0)
/* 916460 802406F0 34425556 */  ori       $v0, $v0, 0x5556
/* 916464 802406F4 00031C00 */  sll       $v1, $v1, 0x10
/* 916468 802406F8 00032403 */  sra       $a0, $v1, 0x10
/* 91646C 802406FC 00820018 */  mult      $a0, $v0
/* 916470 80240700 00031FC3 */  sra       $v1, $v1, 0x1f
/* 916474 80240704 00004010 */  mfhi      $t0
/* 916478 80240708 01031823 */  subu      $v1, $t0, $v1
/* 91647C 8024070C 00031040 */  sll       $v0, $v1, 1
/* 916480 80240710 00431021 */  addu      $v0, $v0, $v1
/* 916484 80240714 00822023 */  subu      $a0, $a0, $v0
/* 916488 80240718 00042400 */  sll       $a0, $a0, 0x10
/* 91648C 8024071C 1480000C */  bnez      $a0, .L80240750
/* 916490 80240720 E600000C */   swc1     $f0, 0xc($s0)
/* 916494 80240724 C6020040 */  lwc1      $f2, 0x40($s0)
/* 916498 80240728 3C014000 */  lui       $at, 0x4000
/* 91649C 8024072C 44810000 */  mtc1      $at, $f0
/* 9164A0 80240730 AFA00010 */  sw        $zero, 0x10($sp)
/* 9164A4 80240734 AFA00014 */  sw        $zero, 0x14($sp)
/* 9164A8 80240738 46001080 */  add.s     $f2, $f2, $f0
/* 9164AC 8024073C 8E06003C */  lw        $a2, 0x3c($s0)
/* 9164B0 80240740 8E050038 */  lw        $a1, 0x38($s0)
/* 9164B4 80240744 44071000 */  mfc1      $a3, $f2
/* 9164B8 80240748 0C01BECC */  jal       fx_walk
/* 9164BC 8024074C 24040002 */   addiu    $a0, $zero, 2
.L80240750:
/* 9164C0 80240750 9602008E */  lhu       $v0, 0x8e($s0)
/* 9164C4 80240754 2442FFFF */  addiu     $v0, $v0, -1
/* 9164C8 80240758 A602008E */  sh        $v0, 0x8e($s0)
/* 9164CC 8024075C 00021400 */  sll       $v0, $v0, 0x10
/* 9164D0 80240760 1C40002C */  bgtz      $v0, .L80240814
/* 9164D4 80240764 00000000 */   nop
/* 9164D8 80240768 C6000038 */  lwc1      $f0, 0x38($s0)
/* 9164DC 8024076C 4600010D */  trunc.w.s $f4, $f0
/* 9164E0 80240770 44022000 */  mfc1      $v0, $f4
/* 9164E4 80240774 00000000 */  nop
/* 9164E8 80240778 A6220010 */  sh        $v0, 0x10($s1)
/* 9164EC 8024077C C600003C */  lwc1      $f0, 0x3c($s0)
/* 9164F0 80240780 4600010D */  trunc.w.s $f4, $f0
/* 9164F4 80240784 44022000 */  mfc1      $v0, $f4
/* 9164F8 80240788 00000000 */  nop
/* 9164FC 8024078C A6220012 */  sh        $v0, 0x12($s1)
/* 916500 80240790 C6000040 */  lwc1      $f0, 0x40($s0)
/* 916504 80240794 24020001 */  addiu     $v0, $zero, 1
/* 916508 80240798 A2220007 */  sb        $v0, 7($s1)
/* 91650C 8024079C 4600010D */  trunc.w.s $f4, $f0
/* 916510 802407A0 44022000 */  mfc1      $v0, $f4
/* 916514 802407A4 00000000 */  nop
/* 916518 802407A8 A6220014 */  sh        $v0, 0x14($s1)
/* 91651C 802407AC C6800018 */  lwc1      $f0, 0x18($s4)
/* 916520 802407B0 C60C0038 */  lwc1      $f12, 0x38($s0)
/* 916524 802407B4 C60E0040 */  lwc1      $f14, 0x40($s0)
/* 916528 802407B8 8E420000 */  lw        $v0, ($s2)
/* 91652C 802407BC E6000018 */  swc1      $f0, 0x18($s0)
/* 916530 802407C0 8C460028 */  lw        $a2, 0x28($v0)
/* 916534 802407C4 0C00A7B5 */  jal       dist2D
/* 916538 802407C8 8C470030 */   lw       $a3, 0x30($v0)
/* 91653C 802407CC C6020018 */  lwc1      $f2, 0x18($s0)
/* 916540 802407D0 46020003 */  div.s     $f0, $f0, $f2
/* 916544 802407D4 3C018024 */  lui       $at, %hi(D_80242D58_918AC8)
/* 916548 802407D8 D4222D58 */  ldc1      $f2, %lo(D_80242D58_918AC8)($at)
/* 91654C 802407DC 46000021 */  cvt.d.s   $f0, $f0
/* 916550 802407E0 46220000 */  add.d     $f0, $f0, $f2
/* 916554 802407E4 4620010D */  trunc.w.d $f4, $f0
/* 916558 802407E8 44022000 */  mfc1      $v0, $f4
/* 91655C 802407EC 00000000 */  nop
/* 916560 802407F0 A602008E */  sh        $v0, 0x8e($s0)
/* 916564 802407F4 00021400 */  sll       $v0, $v0, 0x10
/* 916568 802407F8 00021403 */  sra       $v0, $v0, 0x10
/* 91656C 802407FC 2842000F */  slti      $v0, $v0, 0xf
/* 916570 80240800 10400002 */  beqz      $v0, .L8024080C
/* 916574 80240804 2402000F */   addiu    $v0, $zero, 0xf
/* 916578 80240808 A602008E */  sh        $v0, 0x8e($s0)
.L8024080C:
/* 91657C 8024080C 24020016 */  addiu     $v0, $zero, 0x16
/* 916580 80240810 AE620070 */  sw        $v0, 0x70($s3)
.L80240814:
/* 916584 80240814 8FBF002C */  lw        $ra, 0x2c($sp)
/* 916588 80240818 8FB40028 */  lw        $s4, 0x28($sp)
/* 91658C 8024081C 8FB30024 */  lw        $s3, 0x24($sp)
/* 916590 80240820 8FB20020 */  lw        $s2, 0x20($sp)
/* 916594 80240824 8FB1001C */  lw        $s1, 0x1c($sp)
/* 916598 80240828 8FB00018 */  lw        $s0, 0x18($sp)
/* 91659C 8024082C 03E00008 */  jr        $ra
/* 9165A0 80240830 27BD0030 */   addiu    $sp, $sp, 0x30
