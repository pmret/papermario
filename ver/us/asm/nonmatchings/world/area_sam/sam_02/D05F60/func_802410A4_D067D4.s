.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches

glabel sam_02_UnkFunc29
/* D067D4 802410A4 27BDFFD8 */  addiu     $sp, $sp, -0x28
/* D067D8 802410A8 AFB00010 */  sw        $s0, 0x10($sp)
/* D067DC 802410AC 0080802D */  daddu     $s0, $a0, $zero
/* D067E0 802410B0 AFBF0020 */  sw        $ra, 0x20($sp)
/* D067E4 802410B4 AFB3001C */  sw        $s3, 0x1c($sp)
/* D067E8 802410B8 AFB20018 */  sw        $s2, 0x18($sp)
/* D067EC 802410BC 10A00009 */  beqz      $a1, .L802410E4
/* D067F0 802410C0 AFB10014 */   sw       $s1, 0x14($sp)
/* D067F4 802410C4 0000202D */  daddu     $a0, $zero, $zero
/* D067F8 802410C8 0080282D */  daddu     $a1, $a0, $zero
/* D067FC 802410CC 0080302D */  daddu     $a2, $a0, $zero
/* D06800 802410D0 0C046F97 */  jal       set_background_color_blend
/* D06804 802410D4 240700FF */   addiu    $a3, $zero, 0xff
/* D06808 802410D8 240200FF */  addiu     $v0, $zero, 0xff
/* D0680C 802410DC AE020070 */  sw        $v0, 0x70($s0)
/* D06810 802410E0 AE000074 */  sw        $zero, 0x74($s0)
.L802410E4:
/* D06814 802410E4 8E020070 */  lw        $v0, 0x70($s0)
/* D06818 802410E8 2442FFF8 */  addiu     $v0, $v0, -8
/* D0681C 802410EC 04410002 */  bgez      $v0, .L802410F8
/* D06820 802410F0 AE020070 */   sw       $v0, 0x70($s0)
/* D06824 802410F4 AE000070 */  sw        $zero, 0x70($s0)
.L802410F8:
/* D06828 802410F8 0000202D */  daddu     $a0, $zero, $zero
/* D0682C 802410FC 0080282D */  daddu     $a1, $a0, $zero
/* D06830 80241100 92070073 */  lbu       $a3, 0x73($s0)
/* D06834 80241104 0C046F97 */  jal       set_background_color_blend
/* D06838 80241108 0080302D */   daddu    $a2, $a0, $zero
/* D0683C 8024110C 8E020070 */  lw        $v0, 0x70($s0)
/* D06840 80241110 14400006 */  bnez      $v0, .L8024112C
/* D06844 80241114 00000000 */   nop
/* D06848 80241118 8E020074 */  lw        $v0, 0x74($s0)
/* D0684C 8024111C 14400003 */  bnez      $v0, .L8024112C
/* D06850 80241120 24020001 */   addiu    $v0, $zero, 1
/* D06854 80241124 0809047E */  j         .L802411F8
/* D06858 80241128 AE020074 */   sw       $v0, 0x74($s0)
.L8024112C:
/* D0685C 8024112C 8E030074 */  lw        $v1, 0x74($s0)
/* D06860 80241130 24020001 */  addiu     $v0, $zero, 1
/* D06864 80241134 14620031 */  bne       $v1, $v0, .L802411FC
/* D06868 80241138 0000102D */   daddu    $v0, $zero, $zero
/* D0686C 8024113C 0C04760B */  jal       func_8011D82C
/* D06870 80241140 0000202D */   daddu    $a0, $zero, $zero
/* D06874 80241144 0000802D */  daddu     $s0, $zero, $zero
/* D06878 80241148 2413FFFC */  addiu     $s3, $zero, -4
/* D0687C 8024114C 24120008 */  addiu     $s2, $zero, 8
/* D06880 80241150 3C11FF7F */  lui       $s1, 0xff7f
/* D06884 80241154 3C028015 */  lui       $v0, %hi(D_801512F0)
/* D06888 80241158 8C4212F0 */  lw        $v0, %lo(D_801512F0)($v0)
/* D0688C 8024115C 3631FFFF */  ori       $s1, $s1, 0xffff
/* D06890 80241160 A0400000 */  sb        $zero, ($v0)
.L80241164:
/* D06894 80241164 0C00E2B7 */  jal       get_npc_by_index
/* D06898 80241168 0200202D */   daddu    $a0, $s0, $zero
/* D0689C 8024116C 0040202D */  daddu     $a0, $v0, $zero
/* D068A0 80241170 5080000B */  beql      $a0, $zero, .L802411A0
/* D068A4 80241174 26100001 */   addiu    $s0, $s0, 1
/* D068A8 80241178 8C820000 */  lw        $v0, ($a0)
/* D068AC 8024117C 50400008 */  beql      $v0, $zero, .L802411A0
/* D068B0 80241180 26100001 */   addiu    $s0, $s0, 1
/* D068B4 80241184 808300A4 */  lb        $v1, 0xa4($a0)
/* D068B8 80241188 10730005 */  beq       $v1, $s3, .L802411A0
/* D068BC 8024118C 26100001 */   addiu    $s0, $s0, 1
/* D068C0 80241190 10720003 */  beq       $v1, $s2, .L802411A0
/* D068C4 80241194 00000000 */   nop
/* D068C8 80241198 00511024 */  and       $v0, $v0, $s1
/* D068CC 8024119C AC820000 */  sw        $v0, ($a0)
.L802411A0:
/* D068D0 802411A0 2A020040 */  slti      $v0, $s0, 0x40
/* D068D4 802411A4 1440FFEF */  bnez      $v0, .L80241164
/* D068D8 802411A8 00000000 */   nop
/* D068DC 802411AC 0000802D */  daddu     $s0, $zero, $zero
/* D068E0 802411B0 3C11F7FF */  lui       $s1, 0xf7ff
/* D068E4 802411B4 3631FFFF */  ori       $s1, $s1, 0xffff
.L802411B8:
/* D068E8 802411B8 0C04C3D6 */  jal       get_item_entity
/* D068EC 802411BC 0200202D */   daddu    $a0, $s0, $zero
/* D068F0 802411C0 0040182D */  daddu     $v1, $v0, $zero
/* D068F4 802411C4 10600007 */  beqz      $v1, .L802411E4
/* D068F8 802411C8 26100001 */   addiu    $s0, $s0, 1
/* D068FC 802411CC 8C640000 */  lw        $a0, ($v1)
/* D06900 802411D0 30820010 */  andi      $v0, $a0, 0x10
/* D06904 802411D4 10400003 */  beqz      $v0, .L802411E4
/* D06908 802411D8 00000000 */   nop
/* D0690C 802411DC 00911024 */  and       $v0, $a0, $s1
/* D06910 802411E0 AC620000 */  sw        $v0, ($v1)
.L802411E4:
/* D06914 802411E4 2A020100 */  slti      $v0, $s0, 0x100
/* D06918 802411E8 1440FFF3 */  bnez      $v0, .L802411B8
/* D0691C 802411EC 24020002 */   addiu    $v0, $zero, 2
/* D06920 802411F0 0809047F */  j         .L802411FC
/* D06924 802411F4 00000000 */   nop
.L802411F8:
/* D06928 802411F8 0000102D */  daddu     $v0, $zero, $zero
.L802411FC:
/* D0692C 802411FC 8FBF0020 */  lw        $ra, 0x20($sp)
/* D06930 80241200 8FB3001C */  lw        $s3, 0x1c($sp)
/* D06934 80241204 8FB20018 */  lw        $s2, 0x18($sp)
/* D06938 80241208 8FB10014 */  lw        $s1, 0x14($sp)
/* D0693C 8024120C 8FB00010 */  lw        $s0, 0x10($sp)
/* D06940 80241210 03E00008 */  jr        $ra
/* D06944 80241214 27BD0028 */   addiu    $sp, $sp, 0x28
