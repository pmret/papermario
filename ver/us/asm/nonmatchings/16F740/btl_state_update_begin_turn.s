.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches

glabel btl_state_update_begin_turn
/* 1703F4 80241B14 27BDFFD0 */  addiu     $sp, $sp, -0x30
/* 1703F8 80241B18 AFB40020 */  sw        $s4, 0x20($sp)
/* 1703FC 80241B1C 3C14800E */  lui       $s4, %hi(gBattleStatus)
/* 170400 80241B20 2694C070 */  addiu     $s4, $s4, %lo(gBattleStatus)
/* 170404 80241B24 AFB20018 */  sw        $s2, 0x18($sp)
/* 170408 80241B28 3C128011 */  lui       $s2, %hi(gPlayerData)
/* 17040C 80241B2C 2652F290 */  addiu     $s2, $s2, %lo(gPlayerData)
/* 170410 80241B30 AFBF0028 */  sw        $ra, 0x28($sp)
/* 170414 80241B34 AFB50024 */  sw        $s5, 0x24($sp)
/* 170418 80241B38 AFB3001C */  sw        $s3, 0x1c($sp)
/* 17041C 80241B3C AFB10014 */  sw        $s1, 0x14($sp)
/* 170420 80241B40 AFB00010 */  sw        $s0, 0x10($sp)
/* 170424 80241B44 8E9500DC */  lw        $s5, 0xdc($s4)
/* 170428 80241B48 3C02800E */  lui       $v0, %hi(gBattleState2)
/* 17042C 80241B4C 8C42C4DC */  lw        $v0, %lo(gBattleState2)($v0)
/* 170430 80241B50 8E8500D8 */  lw        $a1, 0xd8($s4)
/* 170434 80241B54 144000E9 */  bnez      $v0, .L80241EFC
/* 170438 80241B58 3C04FEFF */   lui      $a0, 0xfeff
/* 17043C 80241B5C 3484FFFF */  ori       $a0, $a0, 0xffff
/* 170440 80241B60 8E820004 */  lw        $v0, 4($s4)
/* 170444 80241B64 2403FFFD */  addiu     $v1, $zero, -3
/* 170448 80241B68 A28000AC */  sb        $zero, 0xac($s4)
/* 17044C 80241B6C A28000AD */  sb        $zero, 0xad($s4)
/* 170450 80241B70 00431024 */  and       $v0, $v0, $v1
/* 170454 80241B74 2403FFFB */  addiu     $v1, $zero, -5
/* 170458 80241B78 00431024 */  and       $v0, $v0, $v1
/* 17045C 80241B7C 2403FFF7 */  addiu     $v1, $zero, -9
/* 170460 80241B80 00431024 */  and       $v0, $v0, $v1
/* 170464 80241B84 2403FFEF */  addiu     $v1, $zero, -0x11
/* 170468 80241B88 00431024 */  and       $v0, $v0, $v1
/* 17046C 80241B8C AE820004 */  sw        $v0, 4($s4)
/* 170470 80241B90 00441024 */  and       $v0, $v0, $a0
/* 170474 80241B94 AE820004 */  sw        $v0, 4($s4)
/* 170478 80241B98 8CA20000 */  lw        $v0, ($a1)
/* 17047C 80241B9C 3C030C00 */  lui       $v1, 0xc00
/* 170480 80241BA0 A0A0021D */  sb        $zero, 0x21d($a1)
/* 170484 80241BA4 00431025 */  or        $v0, $v0, $v1
/* 170488 80241BA8 12A00004 */  beqz      $s5, .L80241BBC
/* 17048C 80241BAC ACA20000 */   sw       $v0, ($a1)
/* 170490 80241BB0 00431025 */  or        $v0, $v0, $v1
/* 170494 80241BB4 ACA20000 */  sw        $v0, ($a1)
/* 170498 80241BB8 A2A0021D */  sb        $zero, 0x21d($s5)
.L80241BBC:
/* 17049C 80241BBC 8282008B */  lb        $v0, 0x8b($s4)
/* 1704A0 80241BC0 10400004 */  beqz      $v0, .L80241BD4
/* 1704A4 80241BC4 3C030400 */   lui      $v1, 0x400
/* 1704A8 80241BC8 8E820000 */  lw        $v0, ($s4)
/* 1704AC 80241BCC 00431025 */  or        $v0, $v0, $v1
/* 1704B0 80241BD0 AE820000 */  sw        $v0, ($s4)
.L80241BD4:
/* 1704B4 80241BD4 0000502D */  daddu     $t2, $zero, $zero
/* 1704B8 80241BD8 0140882D */  daddu     $s1, $t2, $zero
/* 1704BC 80241BDC 0280202D */  daddu     $a0, $s4, $zero
/* 1704C0 80241BE0 0280182D */  daddu     $v1, $s4, $zero
.L80241BE4:
/* 1704C4 80241BE4 8C9000E0 */  lw        $s0, 0xe0($a0)
/* 1704C8 80241BE8 52000006 */  beql      $s0, $zero, .L80241C04
/* 1704CC 80241BEC 26310001 */   addiu    $s1, $s1, 1
/* 1704D0 80241BF0 36220200 */  ori       $v0, $s1, 0x200
/* 1704D4 80241BF4 A4620140 */  sh        $v0, 0x140($v1)
/* 1704D8 80241BF8 24630002 */  addiu     $v1, $v1, 2
/* 1704DC 80241BFC 254A0001 */  addiu     $t2, $t2, 1
/* 1704E0 80241C00 26310001 */  addiu     $s1, $s1, 1
.L80241C04:
/* 1704E4 80241C04 2A220018 */  slti      $v0, $s1, 0x18
/* 1704E8 80241C08 1440FFF6 */  bnez      $v0, .L80241BE4
/* 1704EC 80241C0C 24840004 */   addiu    $a0, $a0, 4
/* 1704F0 80241C10 A28A0171 */  sb        $t2, 0x171($s4)
/* 1704F4 80241C14 0000882D */  daddu     $s1, $zero, $zero
/* 1704F8 80241C18 2542FFFF */  addiu     $v0, $t2, -1
/* 1704FC 80241C1C 18400031 */  blez      $v0, .L80241CE4
/* 170500 80241C20 268C0140 */   addiu    $t4, $s4, 0x140
/* 170504 80241C24 3C0E800E */  lui       $t6, %hi(gBattleStatus)
/* 170508 80241C28 25CEC070 */  addiu     $t6, $t6, %lo(gBattleStatus)
/* 17050C 80241C2C 3C0D0800 */  lui       $t5, 0x800
/* 170510 80241C30 0180582D */  daddu     $t3, $t4, $zero
.L80241C34:
/* 170514 80241C34 26280001 */  addiu     $t0, $s1, 1
/* 170518 80241C38 010A102A */  slt       $v0, $t0, $t2
/* 17051C 80241C3C 50400025 */  beql      $v0, $zero, .L80241CD4
/* 170520 80241C40 26310001 */   addiu    $s1, $s1, 1
/* 170524 80241C44 0160482D */  daddu     $t1, $t3, $zero
/* 170528 80241C48 00081040 */  sll       $v0, $t0, 1
/* 17052C 80241C4C 004C2821 */  addu      $a1, $v0, $t4
.L80241C50:
/* 170530 80241C50 95270000 */  lhu       $a3, ($t1)
/* 170534 80241C54 94A60000 */  lhu       $a2, ($a1)
/* 170538 80241C58 8DC40000 */  lw        $a0, ($t6)
/* 17053C 80241C5C 30E200FF */  andi      $v0, $a3, 0xff
/* 170540 80241C60 00021080 */  sll       $v0, $v0, 2
/* 170544 80241C64 02821021 */  addu      $v0, $s4, $v0
/* 170548 80241C68 30C300FF */  andi      $v1, $a2, 0xff
/* 17054C 80241C6C 00031880 */  sll       $v1, $v1, 2
/* 170550 80241C70 02831821 */  addu      $v1, $s4, $v1
/* 170554 80241C74 008D2024 */  and       $a0, $a0, $t5
/* 170558 80241C78 8C4200E0 */  lw        $v0, 0xe0($v0)
/* 17055C 80241C7C 10800009 */  beqz      $a0, .L80241CA4
/* 170560 80241C80 8C6300E0 */   lw       $v1, 0xe0($v1)
/* 170564 80241C84 C4420138 */  lwc1      $f2, 0x138($v0)
/* 170568 80241C88 C4600138 */  lwc1      $f0, 0x138($v1)
/* 17056C 80241C8C 4602003C */  c.lt.s    $f0, $f2
/* 170570 80241C90 00000000 */  nop
/* 170574 80241C94 4502000B */  bc1fl     .L80241CC4
/* 170578 80241C98 25080001 */   addiu    $t0, $t0, 1
/* 17057C 80241C9C 0809072F */  j         .L80241CBC
/* 170580 80241CA0 A5260000 */   sh       $a2, ($t1)
.L80241CA4:
/* 170584 80241CA4 804201F1 */  lb        $v0, 0x1f1($v0)
/* 170588 80241CA8 806301F1 */  lb        $v1, 0x1f1($v1)
/* 17058C 80241CAC 0043102A */  slt       $v0, $v0, $v1
/* 170590 80241CB0 50400004 */  beql      $v0, $zero, .L80241CC4
/* 170594 80241CB4 25080001 */   addiu    $t0, $t0, 1
/* 170598 80241CB8 A5260000 */  sh        $a2, ($t1)
.L80241CBC:
/* 17059C 80241CBC A4A70000 */  sh        $a3, ($a1)
/* 1705A0 80241CC0 25080001 */  addiu     $t0, $t0, 1
.L80241CC4:
/* 1705A4 80241CC4 010A102A */  slt       $v0, $t0, $t2
/* 1705A8 80241CC8 1440FFE1 */  bnez      $v0, .L80241C50
/* 1705AC 80241CCC 24A50002 */   addiu    $a1, $a1, 2
/* 1705B0 80241CD0 26310001 */  addiu     $s1, $s1, 1
.L80241CD4:
/* 1705B4 80241CD4 2542FFFF */  addiu     $v0, $t2, -1
/* 1705B8 80241CD8 0222102A */  slt       $v0, $s1, $v0
/* 1705BC 80241CDC 1440FFD5 */  bnez      $v0, .L80241C34
/* 1705C0 80241CE0 256B0002 */   addiu    $t3, $t3, 2
.L80241CE4:
/* 1705C4 80241CE4 0C090398 */  jal       btl_merlee_on_start_turn
/* 1705C8 80241CE8 A2800170 */   sb       $zero, 0x170($s4)
/* 1705CC 80241CEC 3C03F7FF */  lui       $v1, 0xf7ff
/* 1705D0 80241CF0 3C10800E */  lui       $s0, %hi(gBattleStatus)
/* 1705D4 80241CF4 2610C070 */  addiu     $s0, $s0, %lo(gBattleStatus)
/* 1705D8 80241CF8 8E020004 */  lw        $v0, 4($s0)
/* 1705DC 80241CFC 3463FFFF */  ori       $v1, $v1, 0xffff
/* 1705E0 80241D00 A2800099 */  sb        $zero, 0x99($s4)
/* 1705E4 80241D04 00431824 */  and       $v1, $v0, $v1
/* 1705E8 80241D08 30420040 */  andi      $v0, $v0, 0x40
/* 1705EC 80241D0C 14400023 */  bnez      $v0, .L80241D9C
/* 1705F0 80241D10 AE030004 */   sw       $v1, 4($s0)
/* 1705F4 80241D14 82420002 */  lb        $v0, 2($s2)
/* 1705F8 80241D18 28420002 */  slti      $v0, $v0, 2
/* 1705FC 80241D1C 1040000B */  beqz      $v0, .L80241D4C
/* 170600 80241D20 00000000 */   nop
/* 170604 80241D24 0C03A752 */  jal       is_ability_active
/* 170608 80241D28 24040014 */   addiu    $a0, $zero, 0x14
/* 17060C 80241D2C 10400007 */  beqz      $v0, .L80241D4C
/* 170610 80241D30 3C020800 */   lui      $v0, 0x800
/* 170614 80241D34 8E030004 */  lw        $v1, 4($s0)
/* 170618 80241D38 92840099 */  lbu       $a0, 0x99($s4)
/* 17061C 80241D3C 00621825 */  or        $v1, $v1, $v0
/* 170620 80241D40 34840001 */  ori       $a0, $a0, 1
/* 170624 80241D44 AE030004 */  sw        $v1, 4($s0)
/* 170628 80241D48 A2840099 */  sb        $a0, 0x99($s4)
.L80241D4C:
/* 17062C 80241D4C 82420002 */  lb        $v0, 2($s2)
/* 170630 80241D50 28420006 */  slti      $v0, $v0, 6
/* 170634 80241D54 10400011 */  beqz      $v0, .L80241D9C
/* 170638 80241D58 00000000 */   nop
/* 17063C 80241D5C 0C03A752 */  jal       is_ability_active
/* 170640 80241D60 2404001E */   addiu    $a0, $zero, 0x1e
/* 170644 80241D64 1040000D */  beqz      $v0, .L80241D9C
/* 170648 80241D68 00000000 */   nop
/* 17064C 80241D6C 92820099 */  lbu       $v0, 0x99($s4)
/* 170650 80241D70 30420001 */  andi      $v0, $v0, 1
/* 170654 80241D74 14400009 */  bnez      $v0, .L80241D9C
/* 170658 80241D78 3C040800 */   lui      $a0, 0x800
/* 17065C 80241D7C 3C05800E */  lui       $a1, %hi(gBattleStatus)
/* 170660 80241D80 24A5C070 */  addiu     $a1, $a1, %lo(gBattleStatus)
/* 170664 80241D84 8CA20004 */  lw        $v0, 4($a1)
/* 170668 80241D88 92830099 */  lbu       $v1, 0x99($s4)
/* 17066C 80241D8C 00441025 */  or        $v0, $v0, $a0
/* 170670 80241D90 34630002 */  ori       $v1, $v1, 2
/* 170674 80241D94 ACA20004 */  sw        $v0, 4($a1)
/* 170678 80241D98 A2830099 */  sb        $v1, 0x99($s4)
.L80241D9C:
/* 17067C 80241D9C 3C04800E */  lui       $a0, %hi(gBattleStatus)
/* 170680 80241DA0 2484C070 */  addiu     $a0, $a0, %lo(gBattleStatus)
/* 170684 80241DA4 8C820000 */  lw        $v0, ($a0)
/* 170688 80241DA8 3C032000 */  lui       $v1, 0x2000
/* 17068C 80241DAC 00431024 */  and       $v0, $v0, $v1
/* 170690 80241DB0 50400001 */  beql      $v0, $zero, .L80241DB8
/* 170694 80241DB4 A2800097 */   sb       $zero, 0x97($s4)
.L80241DB8:
/* 170698 80241DB8 8C820000 */  lw        $v0, ($a0)
/* 17069C 80241DBC 3C031000 */  lui       $v1, 0x1000
/* 1706A0 80241DC0 00431024 */  and       $v0, $v0, $v1
/* 1706A4 80241DC4 50400001 */  beql      $v0, $zero, .L80241DCC
/* 1706A8 80241DC8 A2800096 */   sb       $zero, 0x96($s4)
.L80241DCC:
/* 1706AC 80241DCC 3C028007 */  lui       $v0, %hi(gGameStatusPtr)
/* 1706B0 80241DD0 8C42419C */  lw        $v0, %lo(gGameStatusPtr)($v0)
/* 1706B4 80241DD4 80430074 */  lb        $v1, 0x74($v0)
/* 1706B8 80241DD8 24020004 */  addiu     $v0, $zero, 4
/* 1706BC 80241DDC 14620003 */  bne       $v1, $v0, .L80241DEC
/* 1706C0 80241DE0 24020003 */   addiu    $v0, $zero, 3
/* 1706C4 80241DE4 080907FC */  j         .L80241FF0
/* 1706C8 80241DE8 24040018 */   addiu    $a0, $zero, 0x18
.L80241DEC:
/* 1706CC 80241DEC 14620018 */  bne       $v1, $v0, .L80241E50
/* 1706D0 80241DF0 0000882D */   daddu    $s1, $zero, $zero
/* 1706D4 80241DF4 24130020 */  addiu     $s3, $zero, 0x20
/* 1706D8 80241DF8 0280902D */  daddu     $s2, $s4, $zero
.L80241DFC:
/* 1706DC 80241DFC 8E5000E0 */  lw        $s0, 0xe0($s2)
/* 1706E0 80241E00 5200000E */  beql      $s0, $zero, .L80241E3C
/* 1706E4 80241E04 26310001 */   addiu    $s1, $s1, 1
/* 1706E8 80241E08 8E0401C8 */  lw        $a0, 0x1c8($s0)
/* 1706EC 80241E0C 5080000B */  beql      $a0, $zero, .L80241E3C
/* 1706F0 80241E10 26310001 */   addiu    $s1, $s1, 1
/* 1706F4 80241E14 2405000A */  addiu     $a1, $zero, 0xa
/* 1706F8 80241E18 0C0B0CF8 */  jal       start_script
/* 1706FC 80241E1C 0000302D */   daddu    $a2, $zero, $zero
/* 170700 80241E20 AE0201D8 */  sw        $v0, 0x1d8($s0)
/* 170704 80241E24 8C440144 */  lw        $a0, 0x144($v0)
/* 170708 80241E28 36230200 */  ori       $v1, $s1, 0x200
/* 17070C 80241E2C AC430148 */  sw        $v1, 0x148($v0)
/* 170710 80241E30 A21301F0 */  sb        $s3, 0x1f0($s0)
/* 170714 80241E34 AE0401E8 */  sw        $a0, 0x1e8($s0)
/* 170718 80241E38 26310001 */  addiu     $s1, $s1, 1
.L80241E3C:
/* 17071C 80241E3C 2A220018 */  slti      $v0, $s1, 0x18
/* 170720 80241E40 1440FFEE */  bnez      $v0, .L80241DFC
/* 170724 80241E44 26520004 */   addiu    $s2, $s2, 4
/* 170728 80241E48 080907BD */  j         .L80241EF4
/* 17072C 80241E4C 2402000A */   addiu    $v0, $zero, 0xa
.L80241E50:
/* 170730 80241E50 2413000A */  addiu     $s3, $zero, 0xa
/* 170734 80241E54 0280902D */  daddu     $s2, $s4, $zero
.L80241E58:
/* 170738 80241E58 8E5000E0 */  lw        $s0, 0xe0($s2)
/* 17073C 80241E5C 52000010 */  beql      $s0, $zero, .L80241EA0
/* 170740 80241E60 26310001 */   addiu    $s1, $s1, 1
/* 170744 80241E64 8E0201CC */  lw        $v0, 0x1cc($s0)
/* 170748 80241E68 5040000D */  beql      $v0, $zero, .L80241EA0
/* 17074C 80241E6C 26310001 */   addiu    $s1, $s1, 1
/* 170750 80241E70 2405000A */  addiu     $a1, $zero, 0xa
/* 170754 80241E74 A29301A7 */  sb        $s3, 0x1a7($s4)
/* 170758 80241E78 8E0401CC */  lw        $a0, 0x1cc($s0)
/* 17075C 80241E7C 0C0B0CF8 */  jal       start_script
/* 170760 80241E80 0000302D */   daddu    $a2, $zero, $zero
/* 170764 80241E84 0040182D */  daddu     $v1, $v0, $zero
/* 170768 80241E88 AE0301DC */  sw        $v1, 0x1dc($s0)
/* 17076C 80241E8C 8C620144 */  lw        $v0, 0x144($v1)
/* 170770 80241E90 AE0201EC */  sw        $v0, 0x1ec($s0)
/* 170774 80241E94 36220200 */  ori       $v0, $s1, 0x200
/* 170778 80241E98 AC620148 */  sw        $v0, 0x148($v1)
/* 17077C 80241E9C 26310001 */  addiu     $s1, $s1, 1
.L80241EA0:
/* 170780 80241EA0 2A220018 */  slti      $v0, $s1, 0x18
/* 170784 80241EA4 1440FFEC */  bnez      $v0, .L80241E58
/* 170788 80241EA8 26520004 */   addiu    $s2, $s2, 4
/* 17078C 80241EAC 8E9500DC */  lw        $s5, 0xdc($s4)
/* 170790 80241EB0 12A00010 */  beqz      $s5, .L80241EF4
/* 170794 80241EB4 24020005 */   addiu    $v0, $zero, 5
/* 170798 80241EB8 8EA201CC */  lw        $v0, 0x1cc($s5)
/* 17079C 80241EBC 1040000C */  beqz      $v0, .L80241EF0
/* 1707A0 80241EC0 2405000A */   addiu    $a1, $zero, 0xa
/* 1707A4 80241EC4 00A0102D */  daddu     $v0, $a1, $zero
/* 1707A8 80241EC8 A28201A7 */  sb        $v0, 0x1a7($s4)
/* 1707AC 80241ECC 8EA401CC */  lw        $a0, 0x1cc($s5)
/* 1707B0 80241ED0 0C0B0CF8 */  jal       start_script
/* 1707B4 80241ED4 0000302D */   daddu    $a2, $zero, $zero
/* 1707B8 80241ED8 0040182D */  daddu     $v1, $v0, $zero
/* 1707BC 80241EDC AEA301DC */  sw        $v1, 0x1dc($s5)
/* 1707C0 80241EE0 8C620144 */  lw        $v0, 0x144($v1)
/* 1707C4 80241EE4 AEA201EC */  sw        $v0, 0x1ec($s5)
/* 1707C8 80241EE8 24020100 */  addiu     $v0, $zero, 0x100
/* 1707CC 80241EEC AC620148 */  sw        $v0, 0x148($v1)
.L80241EF0:
/* 1707D0 80241EF0 24020005 */  addiu     $v0, $zero, 5
.L80241EF4:
/* 1707D4 80241EF4 3C01800E */  lui       $at, %hi(gBattleState2)
/* 1707D8 80241EF8 AC22C4DC */  sw        $v0, %lo(gBattleState2)($at)
.L80241EFC:
/* 1707DC 80241EFC 3C03800E */  lui       $v1, %hi(gBattleState2)
/* 1707E0 80241F00 8C63C4DC */  lw        $v1, %lo(gBattleState2)($v1)
/* 1707E4 80241F04 24020005 */  addiu     $v0, $zero, 5
/* 1707E8 80241F08 14620020 */  bne       $v1, $v0, .L80241F8C
/* 1707EC 80241F0C 2402000A */   addiu    $v0, $zero, 0xa
/* 1707F0 80241F10 0000982D */  daddu     $s3, $zero, $zero
/* 1707F4 80241F14 0260882D */  daddu     $s1, $s3, $zero
/* 1707F8 80241F18 0280902D */  daddu     $s2, $s4, $zero
.L80241F1C:
/* 1707FC 80241F1C 8E5000E0 */  lw        $s0, 0xe0($s2)
/* 170800 80241F20 5200000A */  beql      $s0, $zero, .L80241F4C
/* 170804 80241F24 26310001 */   addiu    $s1, $s1, 1
/* 170808 80241F28 8E0201CC */  lw        $v0, 0x1cc($s0)
/* 17080C 80241F2C 50400007 */  beql      $v0, $zero, .L80241F4C
/* 170810 80241F30 26310001 */   addiu    $s1, $s1, 1
/* 170814 80241F34 8E0401EC */  lw        $a0, 0x1ec($s0)
/* 170818 80241F38 0C0B1059 */  jal       does_script_exist
/* 17081C 80241F3C 00000000 */   nop
/* 170820 80241F40 54400001 */  bnel      $v0, $zero, .L80241F48
/* 170824 80241F44 24130001 */   addiu    $s3, $zero, 1
.L80241F48:
/* 170828 80241F48 26310001 */  addiu     $s1, $s1, 1
.L80241F4C:
/* 17082C 80241F4C 2A220018 */  slti      $v0, $s1, 0x18
/* 170830 80241F50 1440FFF2 */  bnez      $v0, .L80241F1C
/* 170834 80241F54 26520004 */   addiu    $s2, $s2, 4
/* 170838 80241F58 12A00008 */  beqz      $s5, .L80241F7C
/* 17083C 80241F5C 00000000 */   nop
/* 170840 80241F60 8EA201CC */  lw        $v0, 0x1cc($s5)
/* 170844 80241F64 10400005 */  beqz      $v0, .L80241F7C
/* 170848 80241F68 00000000 */   nop
/* 17084C 80241F6C 0C0B1059 */  jal       does_script_exist
/* 170850 80241F70 8EA401EC */   lw       $a0, 0x1ec($s5)
/* 170854 80241F74 54400001 */  bnel      $v0, $zero, .L80241F7C
/* 170858 80241F78 24130001 */   addiu    $s3, $zero, 1
.L80241F7C:
/* 17085C 80241F7C 12600018 */  beqz      $s3, .L80241FE0
/* 170860 80241F80 2402000A */   addiu    $v0, $zero, 0xa
/* 170864 80241F84 3C03800E */  lui       $v1, %hi(gBattleState2)
/* 170868 80241F88 8C63C4DC */  lw        $v1, %lo(gBattleState2)($v1)
.L80241F8C:
/* 17086C 80241F8C 1462001A */  bne       $v1, $v0, .L80241FF8
/* 170870 80241F90 0000982D */   daddu    $s3, $zero, $zero
/* 170874 80241F94 0260882D */  daddu     $s1, $s3, $zero
/* 170878 80241F98 0280902D */  daddu     $s2, $s4, $zero
.L80241F9C:
/* 17087C 80241F9C 8E5000E0 */  lw        $s0, 0xe0($s2)
/* 170880 80241FA0 5200000A */  beql      $s0, $zero, .L80241FCC
/* 170884 80241FA4 26310001 */   addiu    $s1, $s1, 1
/* 170888 80241FA8 8E0201C8 */  lw        $v0, 0x1c8($s0)
/* 17088C 80241FAC 50400007 */  beql      $v0, $zero, .L80241FCC
/* 170890 80241FB0 26310001 */   addiu    $s1, $s1, 1
/* 170894 80241FB4 8E0401E8 */  lw        $a0, 0x1e8($s0)
/* 170898 80241FB8 0C0B1059 */  jal       does_script_exist
/* 17089C 80241FBC 00000000 */   nop
/* 1708A0 80241FC0 54400001 */  bnel      $v0, $zero, .L80241FC8
/* 1708A4 80241FC4 24130001 */   addiu    $s3, $zero, 1
.L80241FC8:
/* 1708A8 80241FC8 26310001 */  addiu     $s1, $s1, 1
.L80241FCC:
/* 1708AC 80241FCC 2A220018 */  slti      $v0, $s1, 0x18
/* 1708B0 80241FD0 1440FFF2 */  bnez      $v0, .L80241F9C
/* 1708B4 80241FD4 26520004 */   addiu    $s2, $s2, 4
/* 1708B8 80241FD8 16600007 */  bnez      $s3, .L80241FF8
/* 1708BC 80241FDC 00000000 */   nop
.L80241FE0:
/* 1708C0 80241FE0 0C098D0D */  jal       btl_check_enemies_defeated
/* 1708C4 80241FE4 00000000 */   nop
/* 1708C8 80241FE8 14400003 */  bnez      $v0, .L80241FF8
/* 1708CC 80241FEC 24040007 */   addiu    $a0, $zero, 7
.L80241FF0:
/* 1708D0 80241FF0 0C090464 */  jal       btl_set_state
/* 1708D4 80241FF4 00000000 */   nop
.L80241FF8:
/* 1708D8 80241FF8 8FBF0028 */  lw        $ra, 0x28($sp)
/* 1708DC 80241FFC 8FB50024 */  lw        $s5, 0x24($sp)
/* 1708E0 80242000 8FB40020 */  lw        $s4, 0x20($sp)
/* 1708E4 80242004 8FB3001C */  lw        $s3, 0x1c($sp)
/* 1708E8 80242008 8FB20018 */  lw        $s2, 0x18($sp)
/* 1708EC 8024200C 8FB10014 */  lw        $s1, 0x14($sp)
/* 1708F0 80242010 8FB00010 */  lw        $s0, 0x10($sp)
/* 1708F4 80242014 03E00008 */  jr        $ra
/* 1708F8 80242018 27BD0030 */   addiu    $sp, $sp, 0x30
