.include "macro.inc"

/* assembler directives */
.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */
.set gp=64     /* allow use of 64-bit general purpose registers */

.section .text, "ax"

/* Generated by spimdisasm 1.11.1 */

glabel osPfsIsPlug
/* 47CA0 8006C8A0 27BDFFB0 */  addiu     $sp, $sp, -0x50
/* 47CA4 8006C8A4 AFB00028 */  sw        $s0, 0x28($sp)
/* 47CA8 8006C8A8 24100003 */  addiu     $s0, $zero, 0x3
/* 47CAC 8006C8AC AFB20030 */  sw        $s2, 0x30($sp)
/* 47CB0 8006C8B0 00009021 */  addu      $s2, $zero, $zero
/* 47CB4 8006C8B4 AFB40038 */  sw        $s4, 0x38($sp)
/* 47CB8 8006C8B8 0080A021 */  addu      $s4, $a0, $zero
/* 47CBC 8006C8BC AFB70044 */  sw        $s7, 0x44($sp)
/* 47CC0 8006C8C0 00A0B821 */  addu      $s7, $a1, $zero
/* 47CC4 8006C8C4 AFBF0048 */  sw        $ra, 0x48($sp)
/* 47CC8 8006C8C8 AFB60040 */  sw        $s6, 0x40($sp)
/* 47CCC 8006C8CC AFB5003C */  sw        $s5, 0x3C($sp)
/* 47CD0 8006C8D0 AFB30034 */  sw        $s3, 0x34($sp)
/* 47CD4 8006C8D4 0C018FE5 */  jal       __osSiGetAccess
/* 47CD8 8006C8D8 AFB1002C */   sw       $s1, 0x2C($sp)
/* 47CDC 8006C8DC 3C13800E */  lui       $s3, %hi(__osPfsPifRam)
/* 47CE0 8006C8E0 26738360 */  addiu     $s3, $s3, %lo(__osPfsPifRam)
/* 47CE4 8006C8E4 27B10024 */  addiu     $s1, $sp, 0x24
/* 47CE8 8006C8E8 27B50010 */  addiu     $s5, $sp, 0x10
.LIQUE_8006C8EC:
/* 47CEC 8006C8EC 0C01B285 */  jal       __osPfsRequestData
/* 47CF0 8006C8F0 00002021 */   addu     $a0, $zero, $zero
/* 47CF4 8006C8F4 24040001 */  addiu     $a0, $zero, 0x1
/* 47CF8 8006C8F8 0C018F98 */  jal       __osSiRawStartDma
/* 47CFC 8006C8FC 02602821 */   addu     $a1, $s3, $zero
/* 47D00 8006C900 02802021 */  addu      $a0, $s4, $zero
/* 47D04 8006C904 02202821 */  addu      $a1, $s1, $zero
/* 47D08 8006C908 0C018DCC */  jal       osRecvMesg
/* 47D0C 8006C90C 24060001 */   addiu    $a2, $zero, 0x1
/* 47D10 8006C910 00002021 */  addu      $a0, $zero, $zero
/* 47D14 8006C914 0C018F98 */  jal       __osSiRawStartDma
/* 47D18 8006C918 02602821 */   addu     $a1, $s3, $zero
/* 47D1C 8006C91C 02802021 */  addu      $a0, $s4, $zero
/* 47D20 8006C920 02202821 */  addu      $a1, $s1, $zero
/* 47D24 8006C924 24060001 */  addiu     $a2, $zero, 0x1
/* 47D28 8006C928 0C018DCC */  jal       osRecvMesg
/* 47D2C 8006C92C 0040B021 */   addu     $s6, $v0, $zero
/* 47D30 8006C930 27A40020 */  addiu     $a0, $sp, 0x20
/* 47D34 8006C934 0C01B2AD */  jal       __osPfsGetInitData
/* 47D38 8006C938 27A50010 */   addiu    $a1, $sp, 0x10
/* 47D3C 8006C93C 3C05800A */  lui       $a1, %hi(__osMaxControllers)
/* 47D40 8006C940 90A591D2 */  lbu       $a1, %lo(__osMaxControllers)($a1)
/* 47D44 8006C944 10A0000C */  beqz      $a1, .LIQUE_8006C978
/* 47D48 8006C948 00002021 */   addu     $a0, $zero, $zero
/* 47D4C 8006C94C 00A03021 */  addu      $a2, $a1, $zero
/* 47D50 8006C950 26A30002 */  addiu     $v1, $s5, 0x2
.LIQUE_8006C954:
/* 47D54 8006C954 90620000 */  lbu       $v0, 0x0($v1)
/* 47D58 8006C958 30420004 */  andi      $v0, $v0, 0x4
/* 47D5C 8006C95C 54400003 */  bnel      $v0, $zero, .LIQUE_8006C96C
/* 47D60 8006C960 24840001 */   addiu    $a0, $a0, 0x1
/* 47D64 8006C964 0801B25E */  j         .LIQUE_8006C978
/* 47D68 8006C968 2610FFFF */   addiu    $s0, $s0, -0x1
.LIQUE_8006C96C:
/* 47D6C 8006C96C 0086102A */  slt       $v0, $a0, $a2
/* 47D70 8006C970 1440FFF8 */  bnez      $v0, .LIQUE_8006C954
/* 47D74 8006C974 24630004 */   addiu    $v1, $v1, 0x4
.LIQUE_8006C978:
/* 47D78 8006C978 50850001 */  beql      $a0, $a1, .LIQUE_8006C980
/* 47D7C 8006C97C 00008021 */   addu     $s0, $zero, $zero
.LIQUE_8006C980:
/* 47D80 8006C980 1E00FFDA */  bgtz      $s0, .LIQUE_8006C8EC
/* 47D84 8006C984 00000000 */   nop
/* 47D88 8006C988 10A00013 */  beqz      $a1, .LIQUE_8006C9D8
/* 47D8C 8006C98C 00002021 */   addu     $a0, $zero, $zero
/* 47D90 8006C990 24070001 */  addiu     $a3, $zero, 0x1
/* 47D94 8006C994 00A03021 */  addu      $a2, $a1, $zero
/* 47D98 8006C998 27A50012 */  addiu     $a1, $sp, 0x12
/* 47D9C 8006C99C 27A30013 */  addiu     $v1, $sp, 0x13
.LIQUE_8006C9A0:
/* 47DA0 8006C9A0 90620000 */  lbu       $v0, 0x0($v1)
/* 47DA4 8006C9A4 54400008 */  bnel      $v0, $zero, .LIQUE_8006C9C8
/* 47DA8 8006C9A8 24A50004 */   addiu    $a1, $a1, 0x4
/* 47DAC 8006C9AC 90A20000 */  lbu       $v0, 0x0($a1)
/* 47DB0 8006C9B0 30420001 */  andi      $v0, $v0, 0x1
/* 47DB4 8006C9B4 10400004 */  beqz      $v0, .LIQUE_8006C9C8
/* 47DB8 8006C9B8 24A50004 */   addiu    $a1, $a1, 0x4
/* 47DBC 8006C9BC 00871004 */  sllv      $v0, $a3, $a0
/* 47DC0 8006C9C0 02421025 */  or        $v0, $s2, $v0
/* 47DC4 8006C9C4 305200FF */  andi      $s2, $v0, 0xFF
.LIQUE_8006C9C8:
/* 47DC8 8006C9C8 24840001 */  addiu     $a0, $a0, 0x1
/* 47DCC 8006C9CC 0086102A */  slt       $v0, $a0, $a2
/* 47DD0 8006C9D0 1440FFF3 */  bnez      $v0, .LIQUE_8006C9A0
/* 47DD4 8006C9D4 24630004 */   addiu    $v1, $v1, 0x4
.LIQUE_8006C9D8:
/* 47DD8 8006C9D8 0C018FF4 */  jal       __osSiRelAccess
/* 47DDC 8006C9DC 00000000 */   nop
/* 47DE0 8006C9E0 8FBF0048 */  lw        $ra, 0x48($sp)
/* 47DE4 8006C9E4 02C01021 */  addu      $v0, $s6, $zero
/* 47DE8 8006C9E8 A2F20000 */  sb        $s2, 0x0($s7)
/* 47DEC 8006C9EC 8FB70044 */  lw        $s7, 0x44($sp)
/* 47DF0 8006C9F0 8FB60040 */  lw        $s6, 0x40($sp)
/* 47DF4 8006C9F4 8FB5003C */  lw        $s5, 0x3C($sp)
/* 47DF8 8006C9F8 8FB40038 */  lw        $s4, 0x38($sp)
/* 47DFC 8006C9FC 8FB30034 */  lw        $s3, 0x34($sp)
/* 47E00 8006CA00 8FB20030 */  lw        $s2, 0x30($sp)
/* 47E04 8006CA04 8FB1002C */  lw        $s1, 0x2C($sp)
/* 47E08 8006CA08 8FB00028 */  lw        $s0, 0x28($sp)
/* 47E0C 8006CA0C 03E00008 */  jr        $ra
/* 47E10 8006CA10 27BD0050 */   addiu    $sp, $sp, 0x50

glabel __osPfsRequestData
/* 47E14 8006CA14 27BDFFF8 */  addiu     $sp, $sp, -0x8
/* 47E18 8006CA18 3C07800E */  lui       $a3, %hi(__osPfsPifRam)
/* 47E1C 8006CA1C 24E78360 */  addiu     $a3, $a3, %lo(__osPfsPifRam)
/* 47E20 8006CA20 00004021 */  addu      $t0, $zero, $zero
/* 47E24 8006CA24 308400FF */  andi      $a0, $a0, 0xFF
/* 47E28 8006CA28 24050001 */  addiu     $a1, $zero, 0x1
/* 47E2C 8006CA2C 240300FF */  addiu     $v1, $zero, 0xFF
/* 47E30 8006CA30 ACE5003C */  sw        $a1, 0x3C($a3)
/* 47E34 8006CA34 3C06800A */  lui       $a2, %hi(__osMaxControllers)
/* 47E38 8006CA38 90C691D2 */  lbu       $a2, %lo(__osMaxControllers)($a2)
/* 47E3C 8006CA3C 24020003 */  addiu     $v0, $zero, 0x3
/* 47E40 8006CA40 3C01800A */  lui       $at, %hi(__osContLastCmd)
/* 47E44 8006CA44 A02491F0 */  sb        $a0, %lo(__osContLastCmd)($at)
/* 47E48 8006CA48 A3A30000 */  sb        $v1, 0x0($sp)
/* 47E4C 8006CA4C A3A50001 */  sb        $a1, 0x1($sp)
/* 47E50 8006CA50 A3A20002 */  sb        $v0, 0x2($sp)
/* 47E54 8006CA54 A3A40003 */  sb        $a0, 0x3($sp)
/* 47E58 8006CA58 A3A30004 */  sb        $v1, 0x4($sp)
/* 47E5C 8006CA5C A3A30005 */  sb        $v1, 0x5($sp)
/* 47E60 8006CA60 A3A30006 */  sb        $v1, 0x6($sp)
/* 47E64 8006CA64 10C0000F */  beqz      $a2, .LIQUE_8006CAA4
/* 47E68 8006CA68 A3A30007 */   sb       $v1, 0x7($sp)
.LIQUE_8006CA6C:
/* 47E6C 8006CA6C 8BA90000 */  lwl       $t1, 0x0($sp)
/* 47E70 8006CA70 9BA90003 */  lwr       $t1, 0x3($sp)
/* 47E74 8006CA74 8BAA0004 */  lwl       $t2, 0x4($sp)
/* 47E78 8006CA78 9BAA0007 */  lwr       $t2, 0x7($sp)
/* 47E7C 8006CA7C A8E90000 */  swl       $t1, 0x0($a3)
/* 47E80 8006CA80 B8E90003 */  swr       $t1, 0x3($a3)
/* 47E84 8006CA84 A8EA0004 */  swl       $t2, 0x4($a3)
/* 47E88 8006CA88 B8EA0007 */  swr       $t2, 0x7($a3)
/* 47E8C 8006CA8C 3C02800A */  lui       $v0, %hi(__osMaxControllers)
/* 47E90 8006CA90 904291D2 */  lbu       $v0, %lo(__osMaxControllers)($v0)
/* 47E94 8006CA94 25080001 */  addiu     $t0, $t0, 0x1
/* 47E98 8006CA98 0102102A */  slt       $v0, $t0, $v0
/* 47E9C 8006CA9C 1440FFF3 */  bnez      $v0, .LIQUE_8006CA6C
/* 47EA0 8006CAA0 24E70008 */   addiu    $a3, $a3, 0x8
.LIQUE_8006CAA4:
/* 47EA4 8006CAA4 240200FE */  addiu     $v0, $zero, 0xFE
/* 47EA8 8006CAA8 A0E20000 */  sb        $v0, 0x0($a3)
/* 47EAC 8006CAAC 03E00008 */  jr        $ra
/* 47EB0 8006CAB0 27BD0008 */   addiu    $sp, $sp, 0x8

glabel __osPfsGetInitData
/* 47EB4 8006CAB4 27BDFFE8 */  addiu     $sp, $sp, -0x18
/* 47EB8 8006CAB8 00A03821 */  addu      $a3, $a1, $zero
/* 47EBC 8006CABC 3C0A800E */  lui       $t2, %hi(__osPfsPifRam)
/* 47EC0 8006CAC0 254A8360 */  addiu     $t2, $t2, %lo(__osPfsPifRam)
/* 47EC4 8006CAC4 00003021 */  addu      $a2, $zero, $zero
/* 47EC8 8006CAC8 00004021 */  addu      $t0, $zero, $zero
/* 47ECC 8006CACC 3C03800A */  lui       $v1, %hi(__osMaxControllers)
/* 47ED0 8006CAD0 906391D2 */  lbu       $v1, %lo(__osMaxControllers)($v1)
/* 47ED4 8006CAD4 00806021 */  addu      $t4, $a0, $zero
/* 47ED8 8006CAD8 10600026 */  beqz      $v1, .LIQUE_8006CB74
/* 47EDC 8006CADC AFB00010 */   sw       $s0, 0x10($sp)
/* 47EE0 8006CAE0 240B0001 */  addiu     $t3, $zero, 0x1
/* 47EE4 8006CAE4 24A50002 */  addiu     $a1, $a1, 0x2
/* 47EE8 8006CAE8 3C098000 */  lui       $t1, %hi(__osBbPakAddress)
/* 47EEC 8006CAEC 25290374 */  addiu     $t1, $t1, %lo(__osBbPakAddress)
.LIQUE_8006CAF0:
/* 47EF0 8006CAF0 894D0000 */  lwl       $t5, 0x0($t2)
/* 47EF4 8006CAF4 994D0003 */  lwr       $t5, 0x3($t2)
/* 47EF8 8006CAF8 894E0004 */  lwl       $t6, 0x4($t2)
/* 47EFC 8006CAFC 994E0007 */  lwr       $t6, 0x7($t2)
/* 47F00 8006CB00 ABAD0000 */  swl       $t5, 0x0($sp)
/* 47F04 8006CB04 BBAD0003 */  swr       $t5, 0x3($sp)
/* 47F08 8006CB08 ABAE0004 */  swl       $t6, 0x4($sp)
/* 47F0C 8006CB0C BBAE0007 */  swr       $t6, 0x7($sp)
/* 47F10 8006CB10 93A20002 */  lbu       $v0, 0x2($sp)
/* 47F14 8006CB14 304200C0 */  andi      $v0, $v0, 0xC0
/* 47F18 8006CB18 00021102 */  srl       $v0, $v0, 4
/* 47F1C 8006CB1C 1440000C */  bnez      $v0, .LIQUE_8006CB50
/* 47F20 8006CB20 A0A20001 */   sb       $v0, 0x1($a1)
/* 47F24 8006CB24 00CB2004 */  sllv      $a0, $t3, $a2
/* 47F28 8006CB28 01042025 */  or        $a0, $t0, $a0
/* 47F2C 8006CB2C 93A20005 */  lbu       $v0, 0x5($sp)
/* 47F30 8006CB30 93A30004 */  lbu       $v1, 0x4($sp)
/* 47F34 8006CB34 00021200 */  sll       $v0, $v0, 8
/* 47F38 8006CB38 00621825 */  or        $v1, $v1, $v0
/* 47F3C 8006CB3C A4E30000 */  sh        $v1, 0x0($a3)
/* 47F40 8006CB40 8D220000 */  lw        $v0, 0x0($t1)
/* 47F44 8006CB44 308800FF */  andi      $t0, $a0, 0xFF
/* 47F48 8006CB48 0002102B */  sltu      $v0, $zero, $v0
/* 47F4C 8006CB4C A0A20000 */  sb        $v0, 0x0($a1)
.LIQUE_8006CB50:
/* 47F50 8006CB50 25290004 */  addiu     $t1, $t1, 0x4
/* 47F54 8006CB54 24C60001 */  addiu     $a2, $a2, 0x1
/* 47F58 8006CB58 254A0008 */  addiu     $t2, $t2, 0x8
/* 47F5C 8006CB5C 24A50004 */  addiu     $a1, $a1, 0x4
/* 47F60 8006CB60 3C03800A */  lui       $v1, %hi(__osMaxControllers)
/* 47F64 8006CB64 906391D2 */  lbu       $v1, %lo(__osMaxControllers)($v1)
/* 47F68 8006CB68 00C3102A */  slt       $v0, $a2, $v1
/* 47F6C 8006CB6C 1440FFE0 */  bnez      $v0, .LIQUE_8006CAF0
/* 47F70 8006CB70 24E70004 */   addiu    $a3, $a3, 0x4
.LIQUE_8006CB74:
/* 47F74 8006CB74 3C028000 */  lui       $v0, %hi(__osBbIsBb)
/* 47F78 8006CB78 8C420388 */  lw        $v0, %lo(__osBbIsBb)($v0)
/* 47F7C 8006CB7C 10400025 */  beqz      $v0, .LIQUE_8006CC14
/* 47F80 8006CB80 8FB00010 */   lw       $s0, 0x10($sp)
/* 47F84 8006CB84 3C058000 */  lui       $a1, %hi(__osBbHackFlags)
/* 47F88 8006CB88 8CA5038C */  lw        $a1, %lo(__osBbHackFlags)($a1)
/* 47F8C 8006CB8C 10A00021 */  beqz      $a1, .LIQUE_8006CC14
/* 47F90 8006CB90 00031880 */   sll      $v1, $v1, 2
/* 47F94 8006CB94 00E33823 */  subu      $a3, $a3, $v1
/* 47F98 8006CB98 00051080 */  sll       $v0, $a1, 2
/* 47F9C 8006CB9C 00471021 */  addu      $v0, $v0, $a3
/* 47FA0 8006CBA0 24040001 */  addiu     $a0, $zero, 0x1
/* 47FA4 8006CBA4 00A42004 */  sllv      $a0, $a0, $a1
/* 47FA8 8006CBA8 34830001 */  ori       $v1, $a0, 0x1
/* 47FAC 8006CBAC 00031827 */  nor       $v1, $zero, $v1
/* 47FB0 8006CBB0 01031824 */  and       $v1, $t0, $v1
/* 47FB4 8006CBB4 88ED0000 */  lwl       $t5, 0x0($a3)
/* 47FB8 8006CBB8 98ED0003 */  lwr       $t5, 0x3($a3)
/* 47FBC 8006CBBC ABAD0008 */  swl       $t5, 0x8($sp)
/* 47FC0 8006CBC0 BBAD000B */  swr       $t5, 0xB($sp)
/* 47FC4 8006CBC4 884D0000 */  lwl       $t5, 0x0($v0)
/* 47FC8 8006CBC8 984D0003 */  lwr       $t5, 0x3($v0)
/* 47FCC 8006CBCC A8ED0000 */  swl       $t5, 0x0($a3)
/* 47FD0 8006CBD0 B8ED0003 */  swr       $t5, 0x3($a3)
/* 47FD4 8006CBD4 31020001 */  andi      $v0, $t0, 0x1
/* 47FD8 8006CBD8 00A21004 */  sllv      $v0, $v0, $a1
/* 47FDC 8006CBDC 00621825 */  or        $v1, $v1, $v0
/* 47FE0 8006CBE0 01042024 */  and       $a0, $t0, $a0
/* 47FE4 8006CBE4 00A42007 */  srav      $a0, $a0, $a1
/* 47FE8 8006CBE8 00641825 */  or        $v1, $v1, $a0
/* 47FEC 8006CBEC 3C028000 */  lui       $v0, %hi(__osBbHackFlags)
/* 47FF0 8006CBF0 8C42038C */  lw        $v0, %lo(__osBbHackFlags)($v0)
/* 47FF4 8006CBF4 306800FF */  andi      $t0, $v1, 0xFF
/* 47FF8 8006CBF8 00021080 */  sll       $v0, $v0, 2
/* 47FFC 8006CBFC 00471021 */  addu      $v0, $v0, $a3
/* 48000 8006CC00 8BAD0008 */  lwl       $t5, 0x8($sp)
/* 48004 8006CC04 9BAD000B */  lwr       $t5, 0xB($sp)
/* 48008 8006CC08 A84D0000 */  swl       $t5, 0x0($v0)
/* 4800C 8006CC0C B84D0003 */  swr       $t5, 0x3($v0)
/* 48010 8006CC10 8FB00010 */  lw        $s0, 0x10($sp)
.LIQUE_8006CC14:
/* 48014 8006CC14 A1880000 */  sb        $t0, 0x0($t4)
/* 48018 8006CC18 03E00008 */  jr        $ra
/* 4801C 8006CC1C 27BD0018 */   addiu    $sp, $sp, 0x18
